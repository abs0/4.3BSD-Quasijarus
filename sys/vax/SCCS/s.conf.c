h17886
s 00016/00000/00796
d D 7.16 08/02/18 04:18:27 msokolov 120 119
c welcome pppaux char device
e
s 00017/00000/00779
d D 7.15 04/03/22 17:48:18 msokolov 119 118
c add ss
e
s 00014/00000/00765
d D 7.14 02/08/02 22:13:02 msokolov 118 117
c add netmon
e
s 00010/00010/00755
d D 7.13 88/05/26 09:36:36 karels 117 116
c rename kda =>kdb
e
s 00029/00001/00736
d D 7.12 88/05/19 21:47:56 karels 116 115
c add kra/kdb; move rx50 to non-reserved range
e
s 00144/00168/00593
d D 7.11 88/05/14 11:16:07 karels 115 113
c 8200 support, raw read/write mods from torek (checked in for bostic);
c change udxxx's to udaxxx
e
s 00003/00019/00675
d R 7.7.1.1 88/01/06 20:43:37 bostic 114 110
c tahoe release; version without QV driver
e
s 00001/00001/00760
d D 7.10 87/10/22 15:59:08 bostic 113 112
c fix NKMC define
e
s 00051/00000/00710
d D 7.9 87/10/09 17:10:17 karels 112 111
c add datakit (for local only)
e
s 00019/00003/00691
d D 7.8 87/08/07 15:56:22 marc 111 110
c changes for qdss support
e
s 00001/00001/00693
d D 7.7 87/06/04 21:34:25 karels 110 109
c forgot udioctl in cdevsw
e
s 00019/00003/00675
d D 7.6 87/04/17 15:22:38 karels 109 108
c common conf.c: include it all!
e
s 00011/00000/00667
d D 7.5 87/04/17 15:19:35 karels 108 107
c ingres
e
s 00001/00001/00666
d D 7.4 87/04/15 14:55:49 karels 107 106
c typo
e
s 00038/00033/00629
d D 7.3 87/04/02 16:33:28 karels 106 105
c add blkdev ioctls, hp and uda close routings
e
s 00016/00003/00646
d D 7.2 87/01/15 17:58:52 karels 105 104
c np (sigh)
e
s 00001/00001/00648
d D 7.1 86/06/05 22:02:20 mckusick 104 103
c 4.3BSD release version
e
s 00003/00016/00646
d D 6.15 86/06/05 22:01:37 mckusick 103 101
c undo the damage
e
s 00001/00001/00661
d R 7.1 86/06/05 00:41:26 mckusick 102 101
c 4.3BSD release version
e
s 00002/00002/00660
d D 6.14 86/02/19 00:03:39 karels 101 100
c let's get it right
e
s 00016/00003/00646
d D 6.13 86/02/17 11:35:34 sklower 100 99
c add interlan smart board as a character special device.
e
s 00021/00004/00628
d D 6.12 86/02/11 17:26:21 karels 99 97
c add tmscp; move second block of locals down to reserve some expansion
e
s 00021/00001/00631
d R 6.12 86/02/11 17:24:42 karels 98 97
c add tmscp; move second block of locals down to reserve some expansion
e
s 00016/00000/00616
d D 6.11 85/10/23 09:15:29 bloom 97 96
c add more site specific entries (requested by MIT Athena)
e
s 00019/00001/00597
d D 6.10 85/10/17 14:16:42 mckusick 96 95
c add DEC DMZ-32 support
e
s 00018/00004/00580
d D 6.9 85/08/30 13:10:37 jg 95 94
c Added Vs100 driver (Jim Gettys)
e
s 00013/00001/00571
d D 6.8 85/08/05 18:00:41 bloom 94 93
c add support for 8600
e
s 00018/00000/00554
d D 6.7 85/07/25 11:55:16 mckusick 93 92
c add dhu11 support
e
s 00007/00001/00547
d D 6.6 85/06/08 13:40:12 mckusick 92 91
c Add copyright
e
s 00006/00028/00542
d D 6.5 85/06/06 08:34:21 karels 91 90
c remove gpib, ib
e
s 00001/00000/00569
d D 6.4 84/12/21 15:28:11 bloom 90 89
c include ioctl.h
e
s 00005/00005/00564
d D 6.3 84/08/28 18:08:50 bloom 89 88
c Change to includes.  No more ../h
e
s 00015/00010/00554
d D 6.2 84/07/27 15:50:03 karels 88 87
c add log device ; unused reset routines are nulldev
e
s 00000/00000/00564
d D 6.1 83/07/29 07:19:20 sam 87 86
c 4.2 distribution
e
s 00005/00007/00559
d D 4.71 83/06/24 15:00:35 sam 86 85
c rl driver fixups
e
s 00005/00006/00561
d D 4.70 83/06/01 12:18:00 sam 85 84
c handle console flpppy like everyone else
e
s 00044/00021/00523
d D 4.69 83/05/18 02:09:26 sam 84 83
c support multiple variable sized swap areas (some from shannon)
e
s 00019/00000/00525
d D 4.68 83/05/14 15:06:20 sam 83 82
c rl02 definition
e
s 00012/00000/00513
d D 4.67 83/05/11 10:10:53 helge 82 81
c added entry for uu (tu58 on dl11), block device only
e
s 00002/00002/00511
d D 4.66 83/04/15 15:35:15 edward 81 80
c Fixed entry for dmf
e
s 00014/00012/00499
d D 4.65 83/03/28 16:21:08 helge 80 79
c added rx02 as a block device
e
s 00011/00025/00500
d D 4.64 83/03/19 09:55:58 sam 79 78
c rx02 is char, not block, device
e
s 00014/00000/00511
d D 4.63 83/03/16 13:31:06 helge 78 76
c added entries for rx02
e
s 00015/00001/00510
d R 4.63 83/03/16 13:26:47 helge 77 76
c added entries for rx02
e
s 00033/00033/00478
d D 4.62 82/10/31 15:23:00 root 76 75
c add d_mmap entries
e
s 00001/00001/00510
d D 4.61 82/10/22 01:15:44 root 75 74
c lint
e
s 00003/00003/00508
d D 4.60 82/10/21 23:56:28 root 74 73
c lint
e
s 00001/00001/00510
d D 4.59 82/10/21 20:58:14 root 73 72
c lint
e
s 00021/00006/00490
d D 4.58 82/10/20 01:37:03 root 72 71
c lint
e
s 00025/00023/00471
d D 4.57 82/10/17 12:01:18 root 71 70
c return errors from open/ioctl routines; update conf table for
e
s 00000/00062/00494
d D 4.56 82/10/13 22:13:02 root 70 69
c rearrange header files
e
s 00095/00001/00461
d D 4.55 82/06/26 22:06:38 sam 69 68
c new drivers from lucas
e
s 00001/00001/00461
d D 4.54 82/06/03 15:19:31 root 68 67
c fixed lpa problem -- kirk
e
s 00014/00000/00448
d D 4.53 82/05/27 21:28:45 sam 67 66
c add lpa
e
s 00015/00003/00433
d D 4.52 82/05/27 13:08:38 sam 66 65
c add in idc
e
s 00001/00001/00435
d D 4.51 82/05/26 15:44:04 sam 65 64
c 7ZZ -> 730
e
s 00012/00017/00424
d D 4.50 82/05/04 13:37:45 sam 64 63
c CAD kludges and cleanup conf.c
e
s 00002/00004/00439
d D 4.49 82/03/14 17:43:45 sam 63 62
c unused select definitions
e
s 00003/00002/00440
d D 4.48 82/02/08 23:13:50 root 62 61
c add hpioctl
e
s 00004/00000/00438
d D 4.47 82/02/06 00:03:44 root 61 60
c commented out un entries (feldman)
e
s 00003/00002/00435
d D 4.46 82/01/17 03:57:45 wnj 60 59
c add ptsstop routine
e
s 00015/00003/00422
d D 4.45 82/01/14 11:55:28 wnj 59 58
c added Ungermann-Bass/DR11-W driver
e
s 00001/00001/00424
d D 4.44 81/11/20 14:39:12 wnj 58 57
c more lint
e
s 00001/00002/00424
d D 4.43 81/11/18 15:48:40 wnj 57 56
c lint
e
s 00001/00001/00425
d D 4.42 81/11/11 15:51:50 root 56 55
c fix config stuff w/ shift of ut.h -> tj.h
e
s 00013/00016/00413
d D 4.41 81/11/08 17:12:44 wnj 55 54
c restore berknet
e
s 00070/00030/00359
d D 4.40 81/11/07 10:37:56 wnj 54 53
c fixes from shannon
e
s 00092/00087/00297
d D 4.39 81/10/11 11:47:19 wnj 53 51
c first boot with select()
e
s 00004/00002/00382
d R 4.39 81/08/31 01:16:41 root 52 51
c /dev/errlog
e
s 00016/00015/00368
d D 4.38 81/08/17 11:29:02 ecc 51 50
c added dr11 entry, removed raw ethernet, fixed ptys to allow stops
e
s 00004/00002/00379
d D 4.37 81/07/05 22:23:25 bugs 50 49
c fix pty's to have pt_tty lines
e
s 00001/00001/00380
d D 4.36 81/07/01 17:07:46 hickman 49 48
c changed ethernet #if
e
s 00015/00002/00366
d D 4.35 81/06/10 16:27:07 root 48 47
c added ethernet and comtal drivers
e
s 00042/00009/00326
d D 4.34 81/05/22 12:11:50 root 47 46
c nope
e
s 00008/00001/00327
d D 4.33 81/05/12 17:19:42 root 46 45
c bbn tcp/ip
e
s 00004/00002/00324
d D 4.32 81/05/05 21:52:02 wnj 45 44
c tsioctl + cast to shut off cc warning when no berknet
e
s 00001/00001/00325
d D 4.31 81/04/13 20:37:56 root 44 43
c fix nldisp to be 3
e
s 00006/00000/00320
d D 4.30 81/03/21 15:59:58 wnj 43 42
c add ts
e
s 00001/00001/00319
d D 4.29 81/03/16 00:50:59 wnj 42 41
c working autoconf version
e
s 00002/00003/00318
d D 4.28 81/03/11 19:15:06 wnj 41 40
c no more lpioctl
e
s 00001/00001/00320
d D 4.27 81/03/11 18:40:45 wnj 40 39
c WANTPTY --> NPTY
e
s 00001/00001/00320
d D 4.26 81/03/09 01:52:20 wnj 39 38
c %G% -> %E%
e
s 00008/00005/00313
d D 4.25 81/03/09 00:32:39 wnj 38 37
c lint
e
s 00001/00002/00317
d D 4.24 81/03/07 14:26:49 wnj 37 36
c after attempt at ht driver at cc again; working with new 
c field names
e
s 00003/00002/00316
d D 4.23 81/03/05 01:35:59 wnj 36 35
c add rkreset()
e
s 00002/00002/00316
d D 4.22 81/03/03 12:38:21 wnj 35 34
c further driver work... up now handles spin down; rest still dont
e
s 00010/00000/00308
d D 4.21 81/02/28 17:35:50 wnj 34 33
c rmalloc and related stuff
e
s 00000/00005/00308
d D 4.20 81/02/27 02:41:53 wnj 33 32
c dont allocate space here
e
s 00001/00021/00312
d D 4.19 81/02/26 04:28:20 wnj 32 31
c cosmetic for new config and 750/780
e
s 00005/00005/00328
d D 4.18 81/02/25 23:31:15 wnj 31 30
c name changes
e
s 00001/00001/00332
d D 4.17 81/02/22 21:47:59 wnj 30 29
c working interlocked version
e
s 00001/00001/00332
d D 4.16 81/02/17 17:52:23 wnj 29 28
c fix TM to be TM03
e
s 00011/00091/00322
d D 4.15 81/02/16 21:00:55 wnj 28 27
c rid of non-distrib'd crud
e
s 00007/00026/00406
d D 4.14 81/02/15 13:05:45 kre 27 26
c get rid of ??TAB
e
s 00000/00020/00432
d D 4.13 81/02/08 18:37:36 kre 26 25
c discarded obnoxious material
e
s 00030/00024/00422
d D 4.12 81/02/08 01:16:42 wnj 25 24
c d_dump
e
s 00018/00005/00428
d D 4.11 81/01/31 23:44:27 wnj 24 23
c added chaos line discipline, tmioctl, bfreelist[]
e
s 00022/00002/00411
d D 4.10 81/01/28 12:07:12 toy 23 22
c added pty driver
e
s 00018/00003/00395
d D 4.9 81/01/26 20:40:04 wnj 22 21
c Added chaos devices
e
s 00017/00016/00381
d D 4.8 80/12/26 12:30:55 wnj 21 20
c s,../conf,//
e
s 00012/00003/00385
d D 4.7 80/12/18 04:29:54 wnj 20 19
c add ct and fix typos
e
s 00029/00008/00359
d D 4.6 80/12/17 23:45:54 wnj 19 18
c added tm and lp
e
s 00134/00010/00233
d D 4.5 80/12/17 11:38:08 wnj 18 17
c first 750/780 version
e
s 00001/00001/00242
d D 4.4 80/11/12 17:03:34 bill 17 16
c typo HPTAB -> HTTAB
e
s 00009/00006/00234
d D 4.3 80/11/11 00:16:30 bill 16 15
c fix so can #define NUP 0
e
s 00006/00006/00234
d D 4.2 80/11/10 00:49:39 bill 15 14
c ../conf/ in includes
e
s 00000/00000/00240
d D 4.1 80/11/09 16:46:26 bill 14 13
c stamp for distribution
e
s 00081/00002/00159
d D 3.13 80/10/19 22:33:02 bill 13 12
c first stab at #ifdef 
e
s 00007/00004/00154
d D 3.12 80/07/29 09:11:40 bill 12 11
c 
e
s 00019/00035/00139
d D 3.11 80/07/16 14:01:00 bill 11 10
c reformatting
e
s 00002/00005/00172
d D 3.10 80/07/16 13:54:15 bill 10 9
c 
e
s 00005/00002/00172
d D 3.9 80/07/12 18:24:13 bill 9 8
c ok line discipline
e
s 00012/00029/00162
d D 3.8 80/07/09 17:35:43 bill 8 7
c 
e
s 00030/00008/00161
d D 3.7 80/06/24 19:26:53 bill 7 6
c multi-disk paging
e
s 00008/00001/00161
d D 3.6 80/06/23 17:35:44 bill 6 5
c first cut at interleaved swap
e
s 00050/00035/00112
d D 3.5 80/06/22 12:25:35 bill 5 4
c add d_reset entries, reformat
e
s 00001/00001/00146
d D 3.4 80/06/07 02:44:45 bill 4 3
c %H%->%G%
e
s 00011/00014/00136
d D 3.3 80/05/15 16:53:13 bill 3 2
c new tty discipline
e
s 00014/00003/00136
d D 3.2 80/05/08 10:02:54 bill 2 1
c additions for network line discipline
e
s 00139/00000/00000
d D 3.1 80/04/09 16:03:01 bill 1 0
c date and time created 80/04/09 16:03:01 by bill
e
u
U
t
T
I 1
D 4
/*	%M%	%I%	%H%	*/
E 4
I 4
D 39
/*	%M%	%I%	%G%	*/
E 39
I 39
D 92
/*	%M%	%I%	%E%	*/
E 92
I 92
/*
D 104
 * Copyright (c) 1982 Regents of the University of California.
E 104
I 104
 * Copyright (c) 1982, 1986 Regents of the University of California.
E 104
 * All rights reserved.  The Berkeley software License Agreement
 * specifies the terms and conditions for redistribution.
 *
 *	%W% (Berkeley) %G%
 */
E 92
E 39
E 4

D 89
#include "../h/param.h"
#include "../h/systm.h"
#include "../h/buf.h"
#include "../h/tty.h"
#include "../h/conf.h"
E 89
I 89
#include "param.h"
#include "systm.h"
#include "buf.h"
I 90
#include "ioctl.h"
E 90
#include "tty.h"
#include "conf.h"
E 89
D 70
#include "../h/text.h"
#include "../h/dir.h"
#include "../h/user.h"
#include "../h/proc.h"
#include "../h/file.h"
#include "../h/inode.h"
#include "../h/acct.h"
I 12
#include "../h/pte.h"
E 70
E 12
D 37
#include "../h/mba.h"
E 37

D 115
int	nulldev();
int	nodev();
E 115
I 115
int nulldev(), nodev(), rawread(), rawwrite(), swstrategy();
E 115

I 13
D 15
#include "hp.h"
E 15
I 15
D 21
#include "../conf/hp.h"
E 21
I 21
#include "hp.h"
E 21
E 15
#if NHP > 0
E 13
D 5
int	hpstrategy(), hpread(), hpwrite(), hpintr();
E 5
I 5
D 25
int	hpstrategy(),hpread(),hpwrite(),hpintr();
E 25
I 25
D 57
int	hpstrategy(),hpread(),hpwrite(),hpintr(),hpdump();
E 57
I 57
D 62
int	hpstrategy(),hpread(),hpwrite(),hpdump();
E 62
I 62
D 71
int	hpstrategy(),hpread(),hpwrite(),hpdump(),hpioctl();
E 71
I 71
D 84
int	hpopen(),hpstrategy(),hpread(),hpwrite(),hpdump(),hpioctl();
E 84
I 84
D 106
int	hpopen(),hpstrategy(),hpread(),hpwrite(),hpdump(),hpioctl(),hpsize();
E 106
I 106
D 115
int	hpopen(),hpclose(),hpstrategy();
int	hpread(),hpwrite(),hpioctl(),hpdump(),hpsize();
E 115
I 115
int	hpopen(),hpclose(),hpstrategy(),hpioctl(),hpdump(),hpsize();
E 115
E 106
E 84
E 71
E 62
E 57
E 25
E 5
D 27
struct	buf	hptab;
I 16
#define	HPTAB	&hptab
E 27
E 16
I 13
#else
I 71
#define	hpopen		nodev
I 106
#define	hpclose		nodev
E 106
E 71
#define	hpstrategy	nodev
D 115
#define	hpread		nodev
#define	hpwrite		nodev
E 115
D 57
#define	hpintr		nodev
E 57
I 25
D 106
#define	hpdump		nodev
E 106
I 62
#define	hpioctl		nodev
I 106
#define	hpdump		nodev
E 106
I 84
#define	hpsize		0
E 84
E 62
E 25
D 16
#define	hptab		0
E 16
I 16
D 17
#define	HTTAB		0
E 17
I 17
D 27
#define	HPTAB		0
E 27
E 17
E 16
#endif
E 13
 
I 13
D 15
#include "ht.h"
E 15
I 15
D 21
#include "../conf/ht.h"
E 21
I 21
D 37
#include "ht.h"
E 37
I 37
#include "tu.h"
E 37
E 21
E 15
#if NHT > 0
E 13
D 5
int	htopen(), htclose(), htstrategy(), htread(), htwrite();
E 5
I 5
D 25
int	htopen(),htclose(),htstrategy(),htread(),htwrite();
E 25
I 25
D 38
int	htopen(),htclose(),htstrategy(),htread(),htwrite(),htdump();
E 38
I 38
D 115
int	htopen(),htclose(),htstrategy(),htread(),htwrite(),htdump(),htioctl();
E 115
I 115
int	htopen(),htclose(),htstrategy(),htdump(),htioctl();
E 115
E 38
E 25
E 5
D 27
struct	buf	httab;
I 16
#define	HTTAB	&httab
E 27
E 16
I 13
#else
#define	htopen		nodev
#define	htclose		nodev
#define	htstrategy	nodev
D 115
#define	htread		nodev
#define	htwrite		nodev
E 115
I 25
D 38
#define	htdump		0
E 38
I 38
#define	htdump		nodev
#define	htioctl		nodev
E 38
E 25
D 16
#define	httab		0
E 16
I 16
D 27
#define	HTTAB		0
E 27
E 16
#endif
E 13

I 18
D 21
#include "../conf/rk.h"
E 21
I 21
#include "rk.h"
E 21
D 30
#if NRK > 0
E 30
I 30
D 31
#if NRK11 > 0
E 31
I 31
#if NHK > 0
E 31
E 30
D 25
int	rkstrategy(),rkread(),rkwrite(),rkintr();
E 25
I 25
D 36
int	rkstrategy(),rkread(),rkwrite(),rkintr(),rkdump();
E 36
I 36
D 71
int	rkstrategy(),rkread(),rkwrite(),rkintr(),rkdump(),rkreset();
E 71
I 71
D 84
int	rkopen(),rkstrategy(),rkread(),rkwrite(),rkintr(),rkdump(),rkreset();
E 84
I 84
D 115
int	rkopen(),rkstrategy(),rkread(),rkwrite(),rkintr();
int	rkdump(),rkreset(),rksize();
E 115
I 115
int	rkopen(),rkstrategy(),rkintr(),rkdump(),rkreset(),rksize();
E 115
E 84
E 71
E 36
E 25
D 27
struct	buf	rktab;
#define	RKTAB	&rktab
E 27
#else
I 71
#define	rkopen		nodev
E 71
#define	rkstrategy	nodev
D 115
#define	rkread		nodev
#define	rkwrite		nodev
E 115
#define	rkintr		nodev
I 25
#define	rkdump		nodev
I 36
#define	rkreset		nodev
I 84
#define	rksize		0
E 84
E 36
E 25
D 27
#define	RKTAB		0
E 27
#endif

I 19
D 21
#include "../conf/tm.h"
E 21
I 21
D 32
#include "tm.h"
E 32
I 32
#include "te.h"
E 32
E 21
D 29
#if NTM > 0
E 29
I 29
D 31
#if NTM03 > 0
E 31
I 31
D 42
#if NTM > 0
E 42
I 42
#if NTE > 0
E 42
E 31
E 29
D 24
int	tmopen(),tmclose(),tmstrategy(),tmread(),tmwrite();
E 24
I 24
D 25
int	tmopen(),tmclose(),tmstrategy(),tmread(),tmwrite(),tmioctl();
E 25
I 25
D 38
int	tmopen(),tmclose(),tmstrategy(),tmread(),tmwrite(),tmioctl(),tmdump();
E 38
I 38
D 115
int	tmopen(),tmclose(),tmstrategy(),tmread(),tmwrite();
int	tmioctl(),tmdump(),tmreset();
E 115
I 115
int	tmopen(),tmclose(),tmstrategy(),tmioctl(),tmdump(),tmreset();
E 115
E 38
E 25
E 24
D 27
struct	buf	tmtab;
#define	TMTAB	&tmtab
E 27
#else
#define	tmopen		nodev
#define	tmclose		nodev
#define	tmstrategy	nodev
D 115
#define	tmread		nodev
#define	tmwrite		nodev
E 115
I 24
#define	tmioctl		nodev
I 25
#define	tmdump		nodev
I 38
D 88
#define	tmreset		nodev
E 88
I 88
#define	tmreset		nulldev
E 88
E 38
E 25
E 24
D 27
#define	TMTAB		0
E 27
#endif

I 99
#include "tms.h"
#if NTMS > 0
D 115
int	tmscpopen(),tmscpclose(),tmscpstrategy(),tmscpread(),tmscpwrite();
E 115
I 115
int	tmscpopen(),tmscpclose(),tmscpstrategy();
E 115
int	tmscpioctl(),tmscpdump(),tmscpreset();
#else
#define	tmscpopen	nodev
#define	tmscpclose	nodev
#define	tmscpstrategy	nodev
D 115
#define	tmscpread	nodev
#define	tmscpwrite	nodev
E 115
#define	tmscpioctl	nodev
#define	tmscpdump	nodev
#define	tmscpreset	nulldev
#endif

E 99
I 43
#include "ts.h"
#if NTS > 0
D 115
int	tsopen(),tsclose(),tsstrategy(),tsread(),tswrite();
int	tsioctl(),tsdump(),tsreset();
E 115
I 115
int	tsopen(),tsclose(),tsstrategy(),tsioctl(),tsdump(),tsreset();
E 115
#else
E 43
E 19
D 21
#include "../conf/ts.h"
E 21
I 21
D 32
#include "ts.h"
E 21
#if NTS > 0
D 25
int	tsopen(),tsclose(),tsstrategy(),tsread(),tswrite();
E 25
I 25
int	tsopen(),tsclose(),tsstrategy(),tsread(),tswrite(),tsdump();
E 25
D 27
struct	buf	tstab;
#define	TSTAB	&tstab
E 27
#else
E 32
#define	tsopen		nodev
#define	tsclose		nodev
#define	tsstrategy	nodev
D 115
#define	tsread		nodev
#define	tswrite		nodev
E 115
I 45
#define	tsioctl		nodev
E 45
I 25
#define	tsdump		nodev
I 45
D 88
#define	tsreset		nodev
E 88
I 88
#define	tsreset		nulldev
E 88
E 45
I 43
#endif
E 43
E 25
D 27
#define	TSTAB		0
E 27
I 21
D 32
#endif
E 32
E 21
I 19

I 54
#include "mu.h"
#if NMT > 0
D 115
int	mtopen(),mtclose(),mtstrategy(),mtread(),mtwrite();
int	mtioctl(),mtdump();
E 115
I 115
int	mtopen(),mtclose(),mtstrategy(),mtioctl(),mtdump();
E 115
#else
#define	mtopen		nodev
#define	mtclose		nodev
#define	mtstrategy	nodev
D 115
#define	mtread		nodev
#define	mtwrite		nodev
E 115
#define	mtioctl		nodev
#define	mtdump		nodev
#endif

#include "ra.h"
#if NUDA > 0
D 84
int	udopen(),udstrategy(),udread(),udwrite(),udreset(),uddump();
E 84
I 84
D 106
int	udopen(),udstrategy(),udread(),udwrite(),udreset(),uddump(),udsize();
E 106
I 106
D 107
int	udopen(),ucclose(),udstrategy(),udread(),udwrite(),udioctl();
E 107
I 107
D 115
int	udopen(),udclose(),udstrategy(),udread(),udwrite(),udioctl();
E 107
int	udreset(),uddump(),udsize();
E 115
I 115
int	udaopen(),udaclose(),udastrategy();
int	udaioctl(),udareset(),udadump(),udasize();
E 115
E 106
E 84
#else
D 115
#define	udopen		nodev
I 106
#define	udclose		nodev
E 106
#define	udstrategy	nodev
#define	udread		nodev
#define	udwrite		nodev
I 106
#define	udioctl		nodev
E 106
#define	udreset		nulldev
#define	uddump		nodev
I 84
#define	udsize		0
E 115
I 115
#define	udaopen		nodev
#define	udaclose	nodev
#define	udastrategy	nodev
#define	udaioctl	nodev
#define	udareset	nulldev
#define	udadump		nodev
#define	udasize		0
E 115
E 84
#endif

I 116
#include "kra.h"
D 117
#if NKDA > 0
int	kdaopen(),kdastrategy(),kdadump(),kdasize();
E 117
I 117
#if NKDB > 0
int	kdbopen(),kdbstrategy(),kdbdump(),kdbsize();
E 117
#else
D 117
#define	kdaopen		nodev
#define	kdastrategy	nodev
#define	kdadump		nodev
#define	kdasize		0
E 117
I 117
#define	kdbopen		nodev
#define	kdbstrategy	nodev
#define	kdbdump		nodev
#define	kdbsize		0
E 117
#endif

E 116
E 54
D 21
#include "../conf/lp.h"
E 21
I 21
D 25
#include "lp.h"
E 21
#if NLP > 0
int	lpopen(),lpclose(),lpwrite(),lpioctl(),lpreset();
#else
#define	lpopen		nodev
#define	lpclose		nodev
#define	lpwrite		nodev
#define	lpioctl		nodev
#define	lpreset		nulldev
E 19
#endif

E 25
E 18
I 13
D 15
#include "up.h"
E 15
I 15
D 21
#include "../conf/up.h"
E 21
I 21
#include "up.h"
E 21
E 15
D 31
#if NUP > 0
E 31
I 31
#if NSC > 0
E 31
E 13
D 11
#ifdef ERNIE
E 11
D 5
int	urpopen(), urpstrategy(), urpread(), urpwrite();
struct	buf	urptab;
E 5
I 5
D 25
int	upstrategy(),upread(),upwrite(),upreset();
E 25
I 25
D 71
int	upstrategy(),upread(),upwrite(),upreset(),updump();
E 71
I 71
D 84
int	upopen(),upstrategy(),upread(),upwrite(),upreset(),updump();
E 84
I 84
D 115
int	upopen(),upstrategy(),upread(),upwrite(),upreset(),updump(),upsize();
E 115
I 115
int	upopen(),upstrategy(),upreset(),updump(),upsize();
E 115
E 84
E 71
E 25
D 27
struct	buf	uptab;
I 16
#define	UPTAB	&uptab
E 27
E 16
I 13
#else
I 71
#define	upopen		nodev
E 71
#define	upstrategy	nodev
D 115
#define	upread		nodev
#define	upwrite		nodev
E 115
#define	upreset		nulldev
I 25
#define	updump		nodev
I 84
#define	upsize		0
E 84
E 25
D 16
#define	uptab		0
E 16
I 16
D 27
#define	UPTAB		0
E 27
E 16
#endif
E 13
E 5
D 11
#endif
E 11

I 78
D 79
#include "rx.h"
#if NFX > 0
int	rxopen(),rxclose(),rxstrategy(),rxread(),rxwrite(),rxreset(),rxioctl();
#else
#define	rxopen		nodev
#define	rxclose		nodev
#define	rxstrategy	nodev
#define	rxread		nodev
#define	rxwrite		nodev
#define	rxreset		nulldev
#define	rxioctl		nodev
#endif

E 79
E 78
I 54
D 56
#include "ut.h"
E 56
I 56
#include "tj.h"
E 56
#if NUT > 0
D 115
int	utopen(),utclose(),utstrategy(),utread(),utwrite(),utioctl();
int	utreset(),utdump();
E 115
I 115
int	utopen(),utclose(),utstrategy(),utioctl(),utreset(),utdump();
E 115
#else
#define	utopen		nodev
#define	utclose		nodev
D 115
#define	utread		nodev
E 115
#define	utstrategy	nodev
D 115
#define	utwrite		nodev
E 115
#define	utreset		nulldev
#define	utioctl		nodev
#define	utdump		nodev
#endif

I 66
#include "rb.h"
#if NIDC > 0
D 71
int	idcstrategy(),idcread(),idcwrite(),idcreset(),idcdump();
E 71
I 71
D 84
int	idcopen(),idcstrategy(),idcread(),idcwrite(),idcreset(),idcdump();
E 84
I 84
D 115
int	idcopen(),idcstrategy(),idcread(),idcwrite();
int	idcreset(),idcdump(),idcsize();;
E 115
I 115
int	idcopen(),idcstrategy(),idcreset(),idcdump(),idcsize();;
E 115
E 84
E 71
#else
I 71
#define	idcopen		nodev
E 71
#define	idcstrategy	nodev
D 115
#define	idcread		nodev
#define	idcwrite	nodev
E 115
#define	idcreset	nulldev
#define	idcdump		nodev
I 84
#define	idcsize		0
E 84
#endif

E 66
D 65
#if defined(VAX750) || defined(VAX7ZZ)
E 65
I 65
#if defined(VAX750) || defined(VAX730)
E 65
int	tuopen(),tuclose(),tustrategy();
#else
#define	tuopen		nodev
#define	tuclose		nodev
#define	tustrategy	nodev
#endif

I 80
#include "rx.h"
#if NFX > 0
int	rxopen(),rxstrategy(),rxclose(),rxread(),rxwrite(),rxreset(),rxioctl();
#else
#define	rxopen		nodev
#define rxstrategy	nodev
#define	rxclose		nodev
#define	rxread		nodev
#define	rxwrite		nodev
#define	rxreset		nulldev
#define	rxioctl		nodev
#endif

I 82
#include "uu.h"
#if NUU > 0
int	uuopen(),uustrategy(),uuclose(),uureset(),uuioctl();
#else
#define	uuopen		nodev
#define uustrategy	nodev
#define	uuclose		nodev
#define	uureset		nulldev
#define	uuioctl		nodev
#endif

I 83
#include "rl.h"
#if NRL > 0
D 86
int	rlopen(),rlstrategy(),rlclose(),rlread(),rlwrite();
D 84
int	rlreset(),rlioctl(),rldump();
E 84
I 84
int	rlreset(),rlioctl(),rldump(),rlsize();
E 86
I 86
D 115
int	rlopen(),rlstrategy(),rlread(),rlwrite();
int	rlreset(),rldump(),rlsize();
E 115
I 115
int	rlopen(),rlstrategy(),rlreset(),rldump(),rlsize();
E 115
E 86
E 84
#else
#define	rlopen		nodev
#define	rlstrategy	nodev
D 86
#define	rlclose		nodev
E 86
D 115
#define	rlread		nodev
#define	rlwrite		nodev
E 115
#define	rlreset		nulldev
D 86
#define	rlioctl		nodev
E 86
#define	rldump		nodev
I 84
#define	rlsize		0
E 84
#endif

I 105
#include "np.h"
#if NNP > 0
int	npopen(),npclose(),npread(),npwrite();
int	npreset(),npioctl();
#else
#define	npopen		nodev
#define	npclose		nodev
#define	npread		nodev
#define	npwrite		nodev
#define	npreset		nulldev
#define	npioctl		nodev
#endif

E 105
I 100
D 103
#include "np.h"
#if NNP > 0
D 101
int	npopen(),npstrategy(),npread(),npwrite();
E 101
I 101
int	npopen(),npclose(),npread(),npwrite();
E 101
int	npreset(),npioctl();
#else
#define	npopen		nodev
D 101
#define	npstrategy	nodev
E 101
I 101
#define	npclose		nodev
E 101
#define	npread		nodev
#define	npwrite		nodev
#define	npreset		nulldev
#define	npioctl		nodev
#endif

E 103
E 100
E 83
E 82
E 80
E 54
I 7
D 115
int	swstrategy(),swread(),swwrite();

E 115
E 7
struct bdevsw	bdevsw[] =
{
D 11
/* 0 */	nulldev,	nulldev,	hpstrategy,	&hptab,
/* 1 */	htopen,		htclose,	htstrategy,	&httab,
#ifdef ERNIE
D 5
/* 2 */	nodev,		nodev,		nodev,		0,
/* 3 */	urpopen,	nulldev,	urpstrategy,	&urptab,
E 5
I 5
/* 2 */	nulldev,	nulldev,	upstrategy,	&uptab,
E 5
#endif
I 7
/* 3 */	nodev,		nodev,		nodev,		0,
/* 4 */	nodev,		nodev,		swstrategy,	0,
E 11
I 11
D 16
	nulldev,	nulldev,	hpstrategy,	&hptab,		/*0*/
	htopen,		htclose,	htstrategy,	&httab,		/*1*/
	nulldev,	nulldev,	upstrategy,	&uptab,		/*2*/
E 16
I 16
D 25
	nulldev,	nulldev,	hpstrategy,	HPTAB,		/*0*/
	htopen,		htclose,	htstrategy,	HTTAB,		/*1*/
	nulldev,	nulldev,	upstrategy,	UPTAB,		/*2*/
E 16
I 13
D 18
/* 3 reserved for rk07 */
E 13
	nodev,		nodev,		nodev,		0,		/*3*/
E 18
I 18
	nulldev,	nulldev,	rkstrategy,	RKTAB,		/*3*/
E 18
	nodev,		nodev,		swstrategy,	0,		/*4*/
I 13
D 19
/* 5 reserved for tm03 */
I 18
	nodev,		nodev,		nodev,		0,		/*5*/
E 19
I 19
	tmopen,		tmclose,	tmstrategy,	TMTAB,		/*5*/
E 19
	tsopen,		tsclose,	tsstrategy,	TSTAB,		/*6*/
E 25
I 25
D 27
	nulldev,	nulldev,	hpstrategy,	hpdump,	HPTAB,	/*0*/
	htopen,		htclose,	htstrategy,	htdump,	HTTAB,	/*1*/
	nulldev,	nulldev,	upstrategy,	updump,	UPTAB,	/*2*/
	nulldev,	nulldev,	rkstrategy,	rkdump,	RKTAB,	/*3*/
E 27
I 27
D 71
	nulldev,	nulldev,	hpstrategy,	hpdump,	0,	/*0*/
E 71
I 71
D 84
	hpopen,		nulldev,	hpstrategy,	hpdump,	0,	/*0*/
E 71
	htopen,		htclose,	htstrategy,	htdump,	B_TAPE,	/*1*/
D 71
	nulldev,	nulldev,	upstrategy,	updump,	0,	/*2*/
	nulldev,	nulldev,	rkstrategy,	rkdump,	0,	/*3*/
E 71
I 71
	upopen,		nulldev,	upstrategy,	updump,	0,	/*2*/
	rkopen,		nulldev,	rkstrategy,	rkdump,	0,	/*3*/
E 71
E 27
	nodev,		nodev,		swstrategy,	nodev,	0,	/*4*/
D 27
	tmopen,		tmclose,	tmstrategy,	tmdump,	TMTAB,	/*5*/
	tsopen,		tsclose,	tsstrategy,	tsdump,	TSTAB,	/*6*/
E 27
I 27
	tmopen,		tmclose,	tmstrategy,	tmdump,	B_TAPE,	/*5*/
	tsopen,		tsclose,	tsstrategy,	tsdump,	B_TAPE,	/*6*/
I 54
	mtopen,		mtclose,	mtstrategy,	mtdump,	B_TAPE,	/*7*/
	tuopen,		tuclose,	tustrategy,	nodev,	B_TAPE,	/*8*/
	udopen,		nulldev,	udstrategy,	uddump,	0,	/*9*/
	utopen,		utclose,	utstrategy,	utdump,	B_TAPE,	/*10*/
I 66
D 71
	nodev,		nodev,		idcstrategy,	idcdump,0,	/*11*/
E 66
E 54
E 27
E 25
E 18
E 13
E 11
E 7
	0,
E 71
I 71
	idcopen,	nodev,		idcstrategy,	idcdump,0,	/*11*/
I 80
	rxopen,		rxclose,	rxstrategy,	nodev,	0,	/*12*/
I 82
	uuopen,		uuclose,	uustrategy,	nodev,	0,	/*13*/
I 83
	rlopen,		rlclose,	rlstrategy,	rldump,	0,	/*14*/
E 84
I 84
D 106
	{ hpopen,	nulldev,	hpstrategy,	hpdump,		/*0*/
	  hpsize,	0 },
	{ htopen,	htclose,	htstrategy,	htdump,		/*1*/
	  0,		B_TAPE },
	{ upopen,	nulldev,	upstrategy,	updump,		/*2*/
	  upsize,	0 },
	{ rkopen,	nulldev,	rkstrategy,	rkdump,		/*3*/
	  rksize,	0 },
E 106
I 106
	{ hpopen,	hpclose,	hpstrategy,	hpioctl,	/*0*/
	  hpdump,	hpsize,		0 },
	{ htopen,	htclose,	htstrategy,	htioctl,	/*1*/
	  htdump,	0,		B_TAPE },
	{ upopen,	nulldev,	upstrategy,	nodev,		/*2*/
	  updump,	upsize,		0 },
	{ rkopen,	nulldev,	rkstrategy,	nodev,		/*3*/
	  rkdump,	rksize,		0 },
E 106
	{ nodev,	nodev,		swstrategy,	nodev,		/*4*/
D 106
	  0,		0 },
	{ tmopen,	tmclose,	tmstrategy,	tmdump,		/*5*/
	  0,		B_TAPE },
	{ tsopen,	tsclose,	tsstrategy,	tsdump,		/*6*/
	  0,		B_TAPE },
	{ mtopen,	mtclose,	mtstrategy,	mtdump,		/*7*/
	  0,		B_TAPE },
E 106
I 106
	  nodev,	0,		0 },
	{ tmopen,	tmclose,	tmstrategy,	tmioctl,	/*5*/
	  tmdump,	0,		B_TAPE },
	{ tsopen,	tsclose,	tsstrategy,	tsioctl,	/*6*/
	  tsdump,	0,		B_TAPE },
	{ mtopen,	mtclose,	mtstrategy,	mtioctl,	/*7*/
	  mtdump,	0,		B_TAPE },
E 106
	{ tuopen,	tuclose,	tustrategy,	nodev,		/*8*/
D 106
	  0,		B_TAPE },
	{ udopen,	nulldev,	udstrategy,	uddump,		/*9*/
	  udsize,	0 },
	{ utopen,	utclose,	utstrategy,	utdump,		/*10*/
	  0,		B_TAPE },
	{ idcopen,	nodev,		idcstrategy,	idcdump,	/*11*/
	  idcsize,	0 },
E 106
I 106
	  nodev,	0,		B_TAPE },
D 115
	{ udopen,	udclose,	udstrategy,	udioctl,	/*9*/
	  uddump,	udsize,		0 },
E 115
I 115
	{ udaopen,	udaclose,	udastrategy,	udaioctl,	/*9*/
	  udadump,	udasize,	0 },
E 115
	{ utopen,	utclose,	utstrategy,	utioctl,	/*10*/
	  utdump,	0,		B_TAPE },
D 115
	{ idcopen,	nodev,		idcstrategy,	nodev,		/*11*/
E 115
I 115
	{ idcopen,	nulldev,	idcstrategy,	nodev,		/*11*/
E 115
	  idcdump,	idcsize,	0 },
E 106
	{ rxopen,	rxclose,	rxstrategy,	nodev,		/*12*/
D 106
	  0,		0 },
E 106
I 106
	  nodev,	0,		0 },
E 106
	{ uuopen,	uuclose,	uustrategy,	nodev,		/*13*/
D 106
	  0,		0 },
D 86
	{ rlopen,	rlclose,	rlstrategy,	rldump,		/*14*/
E 86
I 86
	{ rlopen,	nodev,		rlstrategy,	rldump,		/*14*/
E 86
	  rlsize,	0 },
I 99
	{ tmscpopen,	tmscpclose,	tmscpstrategy,	tmscpdump,	/*15*/
	  0,		B_TAPE },
E 106
I 106
	  nodev,	0,		0 },
D 115
	{ rlopen,	nodev,		rlstrategy,	nodev,		/*14*/
E 115
I 115
	{ rlopen,	nulldev,	rlstrategy,	nodev,		/*14*/
E 115
	  rldump,	rlsize,		0 },
	{ tmscpopen,	tmscpclose,	tmscpstrategy,	tmscpioctl,	/*15*/
	  tmscpdump,	0,		B_TAPE },
I 116
D 117
	{ kdaopen,	nulldev,	kdastrategy,	nodev,		/*16*/
	  kdadump,	kdasize,	0 },
E 117
I 117
	{ kdbopen,	nulldev,	kdbstrategy,	nodev,		/*16*/
	  kdbdump,	kdbsize,	0 },
E 117
E 116
E 106
E 99
E 84
E 83
E 82
E 80
I 78
D 79
	rxopen,		rxclose,	rxstrategy,	nodev,	0,	/*12*/
E 79
E 78
E 71
};
I 71
int	nblkdev = sizeof (bdevsw) / sizeof (bdevsw[0]);
E 71

D 5
int	cnopen(), cnclose(), cnread(), cnwrite(), cnioctl();
E 5
I 5
int	cnopen(),cnclose(),cnread(),cnwrite(),cnioctl();
I 18
struct tty cons;
E 18
E 5

I 46
#include "acc.h"
#if NACC > 0
int     accreset();
#else
#define accreset nulldev
#endif

E 46
I 22
D 28
#ifdef CHAOS
int	chopen(),chclose(),chread(),chwrite(),chioctl(),chreset();
#else
#define	chopen	nodev
#define	chclose	nodev
#define	chread	nodev
#define	chwrite	nodev
#define	chioctl	nodev
#define	chreset	nodev
#endif

E 28
E 22
I 20
D 21
#include "../conf/ct.h"
E 21
I 21
#include "ct.h"
E 21
#if NCT > 0
int	ctopen(),ctclose(),ctwrite();
#else
#define	ctopen	nulldev
#define	ctclose	nulldev
#define	ctwrite	nulldev
#endif

E 20
I 13
D 15
#include "dh.h"
E 15
I 15
D 21
#include "../conf/dh.h"
E 21
I 21
#include "dh.h"
E 21
E 15
D 31
#if NDH11 == 0
E 31
I 31
#if NDH == 0
E 31
#define	dhopen	nodev
#define	dhclose	nodev
#define	dhread	nodev
#define	dhwrite	nodev
#define	dhioctl	nodev
#define	dhstop	nodev
#define	dhreset	nulldev
#define	dh11	0
#else
E 13
D 11
#ifdef ERNIE
E 11
D 5
int	dhopen(), dhclose(), dhread(), dhwrite(), dhioctl(), dhstop();
E 5
I 5
int	dhopen(),dhclose(),dhread(),dhwrite(),dhioctl(),dhstop(),dhreset();
E 5
struct	tty dh11[];
I 13
#endif
E 13
D 11
#endif
E 11

I 72
#include "dmf.h"
#if NDMF == 0
#define	dmfopen	nodev
#define	dmfclose	nodev
#define	dmfread	nodev
#define	dmfwrite	nodev
#define	dmfioctl	nodev
#define	dmfstop	nodev
#define	dmfreset	nulldev
D 81
#define	dmf11	0
E 81
I 81
#define	dmf_tty	0
E 81
#else
int	dmfopen(),dmfclose(),dmfread(),dmfwrite(),dmfioctl(),dmfstop(),dmfreset();
struct	tty dmf_tty[];
#endif

I 94
#if VAX8600
int	crlopen(),crlclose(),crlread(),crlwrite();
#else
#define	crlopen		nodev
#define	crlclose	nodev
#define	crlread		nodev
#define	crlwrite	nodev
#endif

I 115
#if VAX8200
int	rx50open(),rx50close(),rx50read(),rx50write();
#else
#define	rx50open	nodev
#define	rx50close	nodev
#define	rx50read	nodev
#define	rx50write	nodev
#endif

E 115
E 94
E 72
I 18
D 35
#if VAX==780
E 35
I 35
#if VAX780
E 35
E 18
D 5
int	flopen(), flclose(), flread(), flwrite();
E 5
I 5
int	flopen(),flclose(),flread(),flwrite();
I 85
#else
#define	flopen	nodev
#define	flclose	nodev
#define	flread	nodev
#define	flwrite	nodev
E 85
I 18
D 32
#endif
E 18
E 5

I 18
D 21
#include "../conf/dk.h"
E 21
I 21
#include "dk.h"
E 21
#if NDK == 0
#define	dkopen	nodev
#define	dkclose	nodev
#define	dkread	nodev
#define	dkwrite	nodev
#define	dkioctl	nodev
#define	dkstop	nodev
#define	dkreset	nulldev
I 20
#define	dkchans	0
E 20
#else
int	dkopen(),dkclose(),dkread(),dkwrite(),dkioctl(),dkstop(),dkreset();
struct	tty	dkchans[];
E 32
#endif

E 18
I 13
D 21
#include "../conf/dz.h"
E 21
I 21
#include "dz.h"
E 21
D 31
#if NDZ11 == 0
E 31
I 31
#if NDZ == 0
E 31
#define	dzopen	nodev
#define	dzclose	nodev
#define	dzread	nodev
#define	dzwrite	nodev
#define	dzioctl	nodev
#define	dzstop	nodev
#define	dzreset	nulldev
#define	dz_tty	0
#else
E 13
D 5
int	dzopen(), dzclose(), dzread(), dzwrite(), dzioctl(), dzstop();
E 5
I 5
int	dzopen(),dzclose(),dzread(),dzwrite(),dzioctl(),dzstop(),dzreset();
E 5
struct	tty dz_tty[];
I 25
#endif

I 119
#include "ss.h"
#if NSS == 0
#define	ssopen	nodev
#define	ssclose	nodev
#define	ssread	nodev
#define	sswrite	nodev
#define	ssioctl	nodev
#define	ssstop	nodev
#define	ss_tty	0
#else
int	ssopen(),ssclose(),ssread(),sswrite(),ssioctl(),ssstop();
struct	tty ss_tty[];
#endif

E 119
#include "lp.h"
#if NLP > 0
D 41
int	lpopen(),lpclose(),lpwrite(),lpioctl(),lpreset();
E 41
I 41
D 53
int	lpopen(),lpclose(),lpwrite(),lpreset();
E 53
I 53
D 63
int	lpopen(),lpclose(),lpwrite(),lpreset(),lpselect();
E 63
I 63
int	lpopen(),lpclose(),lpwrite(),lpreset();
E 63
E 53
E 41
#else
#define	lpopen		nodev
#define	lpclose		nodev
#define	lpwrite		nodev
D 41
#define	lpioctl		nodev
E 41
#define	lpreset		nulldev
I 53
D 63
#define	lpselect	nodev
E 63
E 53
E 25
I 13
#endif
E 13

I 18
D 21
#include "../conf/pk.h"
E 21
I 21
D 28
#include "pk.h"
E 21
#if NPK == 0
#define	pkopen	nodev
#define	pkclose	nodev
#define	pkread	nodev
#define	pkwrite	nodev
#define	pkioctl	nodev
#define	pkrint	nodev
#define	pkrend	nodev
#define	pkxint	nodev
D 20
#define	pkmoden	nodev
E 20
I 20
#define	pkmodem	nodev
E 20
#else
int	pkopen(),pkclose(),pkread(),pkioctl();
int	pkrint(),pkrend(),pkxint(),pkmodem();
char	*pkwrite();
#endif

D 21
#include "../conf/tr.h"
E 21
I 21
#include "tr.h"
E 21
#if HAVTR==0
#define	tropen	nodev
#define	trclose	nodev
#define	trread	nodev
#define	trwrite	nodev
#define	trioctl	nodev
#define	trinput	nodev
#define	trrend	nodev
#define	trmeta	nodev
#define	trxint	nodev
#define	trmodem	nodev
#else
int	tropen(), trclose(), trread(), trioctl(), trinput();
int	trrend(), trmeta(), trxint(), trmodem();
char	*trwrite();
#endif

D 21
#include "../conf/tdk.h"
E 21
I 21
#include "tdk.h"
E 21
#if NTDK == 0
#define	dt_lopen	nodev
#define	dt_lclose	nodev
#define	dt_lread	nodev
#define	dt_lwrite	nodev
#define	dtlinput	nodev
#define	dt_lrend	nodev
#define	dt_lmeta	nodev
#define	dt_lstart	nodev
#else
int	dt_lopen(), dt_lclose(), dt_lread(), dtlinput();
int	dt_lrend(), dt_lmeta(), dt_lstart();
char	*dt_lwrite();
#endif

I 24
#if NCHLINE == 0
#define	ch_lopen	nodev
#define	ch_lclose	nodev
#define	ch_linput	nodev
#define	ch_lstart	nodev
#else
int	ch_lopen(), ch_lclose(), ch_linput(), ch_lstart();
#endif

E 28
E 24
E 18
D 5
int	syopen(), syread(), sywrite(), syioctl();
E 5
I 5
D 53
int	syopen(),syread(),sywrite(),syioctl();
E 53
I 53
int	syopen(),syread(),sywrite(),syioctl(),syselect();
E 53
E 5

D 5
int 	mmread(), mmwrite();
E 5
I 5
int 	mmread(),mmwrite();
I 53
#define	mmselect	seltrue
E 53
E 5

D 11
#ifdef ERNIE
E 11
D 5
int	vpopen(), vpclose(), vpwrite(), vpioctl();
int	vaopen(), vaclose(), vawrite(), vaioctl();
E 5
I 5
D 13
int	vpopen(),vpclose(),vpwrite(),vpioctl(),vpreset();
E 13
I 13
D 15
#include "va.h"
E 15
I 15
D 21
#include "../conf/va.h"
E 21
I 21
#include "va.h"
E 21
E 15
#if NVA > 0
E 13
D 7
int	vaopen(), vaclose(), vawrite(), vaioctl(),vareset();
E 7
I 7
D 53
int	vaopen(),vaclose(),vawrite(),vaioctl(),vareset();
E 53
I 53
int	vaopen(),vaclose(),vawrite(),vaioctl(),vareset(),vaselect();
E 53
I 13
#else
D 53
#define	vaopen	nodev
#define	vaclose	nodev
#define	vawrite	nodev
#define	vaopen	nodev
#define	vaioctl	nodev
#define	vareset	nulldev
E 53
I 53
#define	vaopen		nodev
#define	vaclose		nodev
#define	vawrite		nodev
#define	vaopen		nodev
#define	vaioctl		nodev
#define	vareset		nulldev
#define	vaselect	nodev
E 53
#endif
E 13
E 7
E 5
D 11
#endif
E 11

I 13
D 15
#include "vp.h"
E 15
I 15
D 21
#include "../conf/vp.h"
E 21
I 21
#include "vp.h"
E 21
E 15
#if NVP > 0
D 53
int	vpopen(),vpclose(),vpwrite(),vpioctl(),vpreset();
E 53
I 53
int	vpopen(),vpclose(),vpwrite(),vpioctl(),vpreset(),vpselect();
E 53
#else
D 53
#define	vpopen	nodev
#define	vpclose	nodev
#define	vpwrite	nodev
#define	vpioctl	nodev
#define	vpreset	nulldev
E 53
I 53
#define	vpopen		nodev
#define	vpclose		nodev
#define	vpwrite		nodev
#define	vpioctl		nodev
#define	vpreset		nulldev
#define	vpselect	nodev
E 53
#endif

E 13
D 7
int	mxopen(), mxclose(), mxread(), mxwrite(), mxioctl();
E 7
I 7
D 53
int	mxopen(),mxclose(),mxread(),mxwrite(),mxioctl();
E 7
int	mcread();
char	*mcwrite();

E 53
I 24
#include "pty.h"
E 24
I 23
D 40
#if WANTPTY > 0
E 40
I 40
#if NPTY > 0
E 40
D 53
int	ptsopen(), ptsclose(), ptsread(), ptswrite();
int	ptcopen(), ptcclose(), ptcread(), ptcwrite();
E 53
I 53
D 60
int	ptsopen(),ptsclose(),ptsread(),ptswrite();
E 60
I 60
int	ptsopen(),ptsclose(),ptsread(),ptswrite(),ptsstop();
E 60
int	ptcopen(),ptcclose(),ptcread(),ptcwrite(),ptcselect();
E 53
int	ptyioctl();
I 50
struct	tty pt_tty[];
E 50
#else
D 53
#define ptsopen nodev
#define ptsclose nodev
#define ptsread nodev
#define ptswrite nodev
#define ptcopen nodev
#define ptcclose nodev
#define ptcread nodev
#define ptcwrite nodev
#define ptyioctl nodev
I 50
#define	pt_tty	0
E 53
I 53
#define ptsopen		nodev
#define ptsclose	nodev
#define ptsread		nodev
#define ptswrite	nodev
#define ptcopen		nodev
#define ptcclose	nodev
#define ptcread		nodev
#define ptcwrite	nodev
#define ptyioctl	nodev
#define	pt_tty		0
#define	ptcselect	nodev
I 60
#define	ptsstop		nulldev
E 60
E 53
E 50
#endif

I 67
#include "lpa.h"
D 68
#if NLA > 0
E 68
I 68
#if NLPA > 0
E 68
D 71
int	lpaopen(), lpaclose(), lparead(), lpawrite(), lpaioctl();
E 71
I 71
int	lpaopen(),lpaclose(),lparead(),lpawrite(),lpaioctl();
E 71
#else
#define	lpaopen		nodev
#define	lpaclose	nodev
#define	lparead		nodev
#define	lpawrite	nodev
#define	lpaioctl	nodev
#endif

E 67
I 47
D 54
#ifdef CHAOS
D 53
int	chopen(),chclose(),chread(),chwrite(),chioctl(),chreset();
E 53
I 53
int	chopen(),chclose(),chread(),chwrite(),chioctl(),chreset(),chselec();
E 54
I 54
#include "dn.h"
#if NDN > 0
D 63
int	dnopen(), dnclose(), dnwrite(), dnselect();
E 63
I 63
D 71
int	dnopen(), dnclose(), dnwrite();
E 71
I 71
int	dnopen(),dnclose(),dnwrite();
E 71
E 63
E 54
E 53
#else
D 53
#define	chopen	nodev
#define	chclose	nodev
#define	chread	nodev
#define	chwrite	nodev
#define	chioctl	nodev
#define	chreset	nodev
E 53
I 53
D 54
#define	chopen		nodev
#define	chclose		nodev
#define	chread		nodev
#define	chwrite		nodev
#define	chioctl		nodev
#define	chreset		nodev
#define	chselect	nodev
E 54
I 54
#define	dnopen		nodev
#define	dnclose		nodev
#define	dnwrite		nodev
D 63
#define	dnselect	selecttrue
E 63
E 54
E 53
#endif

I 61
D 64
/*
E 61
I 59
#include "un.h"
#if NUN > 0
int	unopen(), unclose(), unread(), unwrite(), unioctl(), unreset();
E 64
I 64
D 91
#include "gpib.h"
#if NGPIB > 0
int	gpibopen(),gpibclose(),gpibread(),gpibwrite(),gpibioctl();
E 64
#else
I 61
D 64
*/
E 61
#define	unopen		nodev
#define unclose		nodev
#define unread		nodev
#define unwrite		nodev
#define unioctl		nodev
#define unreset		nulldev
I 61
/*
E 64
I 64
#define	gpibopen	nodev
#define	gpibclose	nodev
#define	gpibread	nodev
#define	gpibwrite	nodev
#define	gpibioctl	nodev
E 64
E 61
#endif
I 61
D 64
*/
E 64
E 61

E 91
I 69
#include "ik.h"
#if NIK > 0
D 71
int	ikopen(), ikclose(), ikread(), ikwrite();
int	ikioctl(), ikreset();
E 71
I 71
int	ikopen(),ikclose(),ikread(),ikwrite(),ikioctl(),ikreset();
E 71
#else
#define ikopen nodev
#define ikclose nodev
#define ikread nodev
#define ikwrite nodev
#define ikioctl nodev
D 88
#define ikreset nodev
E 88
I 88
#define ikreset nulldev
E 88
#endif

#include "ps.h"
#if NPS > 0
D 71
int	psopen(), psclose(), psread(), pswrite();
int	psioctl(), psreset();
E 71
I 71
int	psopen(),psclose(),psread(),pswrite(),psioctl(),psreset();
E 71
#else
#define psopen nodev
#define psclose nodev
#define psread nodev
#define pswrite nodev
#define psopen nodev
#define psioctl nodev
D 88
#define psreset nodev
E 88
I 88
#define psreset nulldev
E 88
#endif

D 91
#include "ib.h"
#if NIB > 0
D 71
int	ibopen(), ibclose(), ibread(), ibwrite(), ibioctl();
E 71
I 71
int	ibopen(),ibclose(),ibread(),ibwrite(),ibioctl();
E 71
#else
#define	ibopen	nodev
#define	ibclose	nodev
#define	ibread	nodev
#define	ibwrite	nodev
#define	ibioctl	nodev
#endif

E 91
#include "ad.h"
#if NAD > 0
D 71
int	adopen(), adclose(), adioctl(), adreset();
E 71
I 71
int	adopen(),adclose(),adioctl(),adreset();
E 71
#else
#define adopen nodev
#define adclose nodev
#define adioctl nodev
D 88
#define adreset nodev
E 88
I 88
#define adreset nulldev
E 88
D 80
#endif

D 72
#include "efs.h"
E 72
I 72
D 79
/* #include "efs.h" */
E 72
#if NEFS > 0
D 71
int	efsopen(), efsclose(), efsread(), efswrite(), efsioctl(), efsreset();
E 71
I 71
int	efsopen(),efsclose(),efsread(),efswrite(),efsioctl(),efsreset();
E 79
I 79
#include "rx.h"
#if NFX > 0
int	rxopen(),rxclose(),rxread(),rxwrite(),rxreset(),rxioctl();
E 79
E 71
#else
D 79
#define efsopen nodev
#define efsclose nodev
#define efsread nodev
#define efswrite nodev
#define efsioctl nodev
#define efsreset nodev
E 79
I 79
#define	rxopen		nodev
#define	rxclose		nodev
#define	rxread		nodev
#define	rxwrite		nodev
#define	rxreset		nulldev
#define	rxioctl		nodev
E 80
E 79
#endif

I 88
int	logopen(),logclose(),logread(),logioctl(),logselect();

I 93
#include "dhu.h"
#if NDHU > 0
int dhuopen(),dhuclose(),dhuread(),dhuwrite(),dhuioctl(),dhustop(),dhureset();
struct tty dhu_tty[];
#else
#define dhuopen nodev
#define dhuclose nodev
#define dhuread nodev
#define dhuwrite nodev
#define dhuioctl nodev
#define dhustop nodev
#define dhureset nulldev
#define dhu_tty 0
#endif

I 95
#include "vs.h"
#if NVS > 0
int	vsopen(),vsclose(),vsioctl(),vsreset(),vsselect();
#else
#define vsopen nodev
#define vsclose nodev
#define vsioctl nodev
#define vsreset nodev
#define vsselect nodev
#endif

I 96
#include "dmz.h"
#if NDMZ > 0
int dmzopen(),dmzclose(),dmzread(),dmzwrite(),dmzioctl(),dmzstop(),dmzreset();
struct tty dmz_tty[];
#else
#define dmzopen nodev
#define dmzclose nodev
#define dmzread nodev
#define dmzwrite nodev
#define dmzioctl nodev
#define dmzstop nodev
#define dmzreset nulldev
#define dmz_tty 0
#endif

I 109
#include "qv.h"
#if NQV > 0
int	qvopen(), qvclose(), qvread(), qvwrite(), qvioctl(), qvstop(),
	qvreset(), qvselect(), qvcons_init();
#else
#define qvopen	nodev
#define qvclose	nodev
#define qvread	nodev
#define qvwrite	nodev
#define qvioctl	nodev
#define qvstop	nodev
#define qvreset	nulldev
#define qvselect	nodev
#define qvcons_init	nodev
#endif

I 111
#include "qd.h"
#if NQD > 0
int	qdopen(), qdclose(), qdread(), qdwrite(), qdioctl(), qdstop(),
	qdreset(), qdselect(), qdcons_init();
#else
#define qdopen	nodev
#define qdclose	nodev
#define qdread	nodev
#define qdwrite	nodev
#define qdioctl	nodev
#define qdstop	nodev
#define qdreset	nulldev
#define qdselect	nodev
#define qdcons_init	nodev
#endif

E 111
E 109
I 108
#if defined(INGRES)
int	iiioctl(), iiclose(), iiopen();
#else
#define iiopen nodev
#define iiclose nodev
#define iiioctl nodev
#endif

I 112
#ifdef	DATAKIT
#include "datakit.h"
#include "dktty.h"
#include "kmc.h"
#endif

#if !defined(NDATAKIT) || NDATAKIT == 0
#define	dkopen	nodev
#define	dkclose	nodev
#define	dkread	nodev
#define	dkwrite	nodev
#define	dkioctl	nodev
#else
int	dkopen(),dkclose(),dkread(),dkwrite(),dkioctl();
#endif

#if !defined(NDKTTY) || NDKTTY == 0
#define	dktopen		nodev
#define	dktclose	nodev
#define	dktread		nodev
#define	dktwrite	nodev
#define	dktioctl	nodev
#define	dktstop		nulldev
#define	dkt		0
#else
int	dktopen(),dktclose(),dktread(),dktwrite(),dktioctl(), dktstop();
struct tty dkt[];
#endif

D 113
#if !defined(NKMC) || NKMC > 0
E 113
I 113
#if NKMC > 0
E 113
int kmcopen(), kmcclose(), kmcwrite(), kmcioctl(), kmcread();
int kmcrint(), kmcload(), kmcset(), kmcdclr();
#else
#define kmcopen nodev
#define kmcclose nodev
#define kmcwrite nodev
#define kmcioctl nodev
#define kmcread nodev
#define kmcdclr nodev
#endif

I 118
#include "netmon.h"
#if NNETMON > 0
int netmon_open(),netmon_close(),netmon_read(),netmon_select(),netmon_ioctl();
#else
#define	netmon_open	nodev
#define	netmon_close	nodev
#define	netmon_read	nodev
#define	netmon_select	seltrue
#define	netmon_ioctl	nodev
#endif

I 120
#include "pppaux.h"
#if NPPPAUX > 0
int pppaux_open(),pppaux_close(),pppaux_read(),pppaux_write();
int pppaux_select(),pppaux_ioctl();
#else
#define	pppaux_open	nodev
#define	pppaux_close	nodev
#define	pppaux_read	nodev
#define	pppaux_write	nodev
#define	pppaux_select	seltrue
#define	pppaux_ioctl	nodev
#endif

E 120
E 118
E 112
E 108
E 96
E 95
E 93
E 88
E 69
E 59
D 51
#include "en.h"
D 48
#if	NEN > 0
E 48
I 48
D 49
#if	NEN > 0 && !defined(CHAOS)
E 49
I 49
#if	(NEN > 0) && !defined(CHAOS)
E 49
E 48
int	enopen(),enclose(),enread(),enwrite(),enreset();
#else
#define	enopen	nodev
#define	enclose	nodev
#define	enread	nodev
#define	enwrite	nodev
#define	enreset	nodev
#endif

E 51
I 48
D 54
#include "ca.h"
#if NCA > 0
D 53
int	caopen(), caclose(), cawrite(), caioctl(), careset();
E 53
I 53
int	caopen(),caclose(),cawrite(),caioctl(),careset(),caselect();
E 53
#else
D 53
#define	caopen	nodev
#define	caclose	nodev
#define	cawrite	nodev
#define	caioctl	nodev
#define	careset	nulldev
E 53
I 53
#define	caopen		nodev
#define	caclose		nodev
#define	cawrite		nodev
#define	caioctl		nodev
#define	careset		nulldev
#define	caselect	nodev
E 53
#endif

E 54
I 51
D 55
#include "dr.h"
#if NDR > 0
D 53
int	dropen(), drclose(), drread(), drwrite(), drioctl(), drreset();
E 53
I 53
int	dropen(),drclose(),drread(),drwrite(),drioctl(),drreset(),drselect();
E 53
#else
D 53
#define	dropen	nodev
#define	drclose	nodev
#define drread	nodev
#define	drwrite	nodev
#define	drioctl	nodev
#define	drreset	nodev
E 53
I 53
#define	dropen		nodev
#define	drclose		nodev
#define drread		nodev
#define	drwrite		nodev
#define	drioctl		nodev
#define	drreset		nodev
I 54
#define	drselect	selecttrue
E 54
E 53
#endif

E 55
I 53
D 58
int	ttselect(), seltrue(), selectfalse();
E 58
I 58
int	ttselect(), seltrue();
E 58

E 53
E 51
E 48
E 47
E 23
I 7
D 11

E 11
E 7
struct cdevsw	cdevsw[] =
{
D 5
/* 0 */		cnopen, cnclose, cnread, cnwrite, cnioctl, nulldev, 0,
/* 1 */		dzopen, dzclose, dzread, dzwrite, dzioctl, dzstop, dz_tty,
/* 2 */		syopen, nulldev, syread, sywrite, syioctl, nulldev, 0,
/* 3 */		nulldev, nulldev, mmread, mmwrite, nodev, nulldev, 0,
/* 4 */		nulldev, nulldev, hpread, hpwrite, nodev, nodev, 0,
/* 5 */		htopen,  htclose, htread, htwrite, nodev, nodev, 0,
E 5
I 5
D 11
/*0*/	cnopen,		cnclose,	cnread,		cnwrite,
E 11
I 11
	cnopen,		cnclose,	cnread,		cnwrite,	/*0*/
E 11
D 18
	cnioctl,	nulldev,	nulldev,	0,
E 18
I 18
	cnioctl,	nulldev,	nulldev,	&cons,
I 53
D 76
	ttselect,
E 76
I 76
D 115
	ttselect,	nodev,
E 115
I 115
	ttselect,	nodev,		NULL,
E 115
E 76
E 53
E 18
D 11
/*1*/	dzopen,		dzclose,	dzread,		dzwrite,
E 11
I 11
	dzopen,		dzclose,	dzread,		dzwrite,	/*1*/
E 11
	dzioctl,	dzstop,		dzreset,	dz_tty,
I 53
D 76
	ttselect,
E 76
I 76
D 115
	ttselect,	nodev,
E 115
I 115
	ttselect,	nodev,		NULL,
E 115
E 76
E 53
D 11
/*2*/	syopen,		nulldev,	syread,		sywrite,
E 11
I 11
	syopen,		nulldev,	syread,		sywrite,	/*2*/
E 11
D 115
	syioctl,	nulldev,	nulldev,	0,
I 53
D 76
	syselect,
E 76
I 76
	syselect,	nodev,
E 115
I 115
	syioctl,	nulldev,	nulldev,	NULL,
	syselect,	nodev,		NULL,
E 115
E 76
E 53
D 11
/*3*/	nulldev,	nulldev,	mmread,		mmwrite,
E 11
I 11
	nulldev,	nulldev,	mmread,		mmwrite,	/*3*/
E 11
D 115
	nodev,		nulldev,	nulldev,	0,
I 53
D 76
	mmselect,
E 76
I 76
	mmselect,	nodev,
E 76
E 53
D 11
/*4*/	nulldev,	nulldev,	hpread,		hpwrite,
E 11
I 11
D 71
	nulldev,	nulldev,	hpread,		hpwrite,	/*4*/
E 71
I 71
D 106
	hpopen,		nulldev,	hpread,		hpwrite,	/*4*/
E 106
I 106
	hpopen,		hpclose,	hpread,		hpwrite,	/*4*/
E 106
E 71
E 11
D 62
	nodev,		nodev,		nulldev,	0,
E 62
I 62
	hpioctl,	nodev,		nulldev,	0,
E 62
I 53
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 76
E 53
D 11
/*5*/	htopen,		htclose,	htread,		htwrite,
E 11
I 11
	htopen,		htclose,	htread,		htwrite,	/*5*/
E 11
D 38
	nodev,		nodev,		nulldev,	0,
E 38
I 38
	htioctl,	nodev,		nulldev,	0,
I 53
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 115
I 115
	nodev,		nulldev,	nulldev,	NULL,
	mmselect,	nodev,		NULL,
	hpopen,		hpclose,	rawread,	rawwrite,	/*4*/
	hpioctl,	nodev,		nulldev,	NULL,
	seltrue,	nodev,		hpstrategy,
	htopen,		htclose,	rawread,	rawwrite,	/*5*/
	htioctl,	nodev,		nulldev,	NULL,
	seltrue,	nodev,		htstrategy,
E 115
E 76
E 53
E 38
E 5
D 11
#ifdef ERNIE
D 5
/* 6 */		vpopen, vpclose, nodev, vpwrite, vpioctl, nulldev, 0,
E 5
I 5
/*6*/	vpopen,		vpclose,	nodev,		vpwrite,
E 11
I 11
	vpopen,		vpclose,	nodev,		vpwrite,	/*6*/
E 11
D 115
	vpioctl,	nulldev,	vpreset,	0,
I 53
D 76
	vpselect,
E 76
I 76
	vpselect,	nodev,
E 76
E 53
E 5
D 11
#else
D 5
/* 6 */		nodev, nodev, nodev, nodev, nodev, nodev, 0,
E 5
I 5
/*6*/	nodev,		nodev,		nodev,		nodev,
E 11
I 11
	nulldev,	nulldev,	swread,		swwrite,	/*7*/
E 11
	nodev,		nodev,		nulldev,	0,
I 53
D 76
	nodev,
E 76
I 76
	nodev,		nodev,
E 115
I 115
	vpioctl,	nulldev,	vpreset,	NULL,
	vpselect,	nodev,		NULL,
	nulldev,	nulldev,	rawread,	rawwrite,	/*7*/
	nodev,		nodev,		nulldev,	NULL,
	nodev,		nodev,		swstrategy,
E 115
E 76
E 53
I 18
D 35
#if VAX==780
E 35
I 35
D 85
#if VAX780
E 85
E 35
E 18
E 5
D 11
#endif
D 5
/* 7 */		nodev, nodev, nodev, nodev, nodev, nodev, 0,
/* 8 */		flopen, flclose, flread, flwrite, nodev, nodev, 0,
/* 9 */		mxopen, mxclose, mxread, mxwrite, mxioctl, nulldev, 0,
E 5
I 5
D 7
/*7*/	nodev,		nodev,		nodev,		nodev,
E 7
I 7
/*7*/	nulldev,	nulldev,	swread,		swwrite,
E 11
I 11
	flopen,		flclose,	flread,		flwrite,	/*8*/
E 11
E 7
D 115
	nodev,		nodev,		nulldev,	0,
I 53
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 76
E 53
I 18
D 85
#else
	nodev,		nodev,		nodev,		nodev,		/*8*/
	nodev,		nodev,		nodev,		0,
I 53
D 76
	nodev,
E 76
I 76
	nodev,		nodev,
E 76
E 53
#endif
E 85
E 18
D 11
/*8*/	flopen,		flclose,	flread,		flwrite,
	nodev,		nodev,		nulldev,	0,
/*9*/	mxopen,		mxclose,	mxread,		mxwrite,
E 11
I 11
D 53
	mxopen,		mxclose,	mxread,		mxwrite,	/*9*/
E 11
	mxioctl,	nulldev,	nulldev,	0,
E 53
I 53
D 74
	nodev,		nodev,		nodev,		nodev,		/*9*/
	nodev,		nodev,		nodev,		0,
	nodev,
E 74
I 74
D 106
	udopen,		nulldev,	udread,		udwrite,	/*9*/
E 106
I 106
	udopen,		udclose,	udread,		udwrite,	/*9*/
E 106
D 75
	udioctl,	nodev,		udreset,		0,
E 75
I 75
D 94
	nodev,		nodev,		udreset,		0,
E 94
I 94
D 110
	nodev,		nodev,		udreset,	0,
E 110
I 110
	udioctl,	nodev,		udreset,	0,
E 110
E 94
E 75
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 115
I 115
	nodev,		nodev,		nulldev,	NULL,
	seltrue,	nodev,		NULL,
	udaopen,	udaclose,	rawread,	rawwrite,	/*9*/
	udaioctl,	nodev,		udareset,	NULL,
	seltrue,	nodev,		udastrategy,
E 115
E 76
E 74
E 53
E 5
D 11
#ifdef ERNIE
D 5
/* 10 */	vaopen, vaclose, nodev, vawrite, vaioctl, nulldev, 0,
/* 11 */	urpopen, nulldev, urpread, urpwrite, nodev, nodev, 0,
/* 12 */	dhopen, dhclose, dhread, dhwrite, dhioctl, dhstop, dh11,
E 5
I 5
/*10*/	vaopen,		vaclose,	nodev,		vawrite,
E 11
I 11
	vaopen,		vaclose,	nodev,		vawrite,	/*10*/
E 11
D 115
	vaioctl,	nulldev,	vareset,	0,
I 53
D 76
	vaselect,
E 76
I 76
	vaselect,	nodev,
E 76
E 53
I 13
D 18
/* 11 reserved for rk07 */
E 13
D 11
/*11*/	nodev,		nodev,		nodev,		nodev,
E 11
I 11
	nodev,		nodev,		nodev,		nodev,		/*11*/
E 18
I 18
D 71
	nulldev,	nulldev,	rkread,		rkwrite,	/*11*/
E 71
I 71
	rkopen,		nulldev,	rkread,		rkwrite,	/*11*/
E 71
E 18
E 11
D 36
	nodev,		nodev,		nulldev,	0,
E 36
I 36
	nodev,		nodev,		rkreset,	0,
I 53
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 115
I 115
	vaioctl,	nulldev,	vareset,	NULL,
	vaselect,	nodev,		NULL,
	rkopen,		nulldev,	rawread,	rawwrite,	/*11*/
	nodev,		nodev,		rkreset,	NULL,
	seltrue,	nodev,		rkstrategy,
E 115
E 76
E 53
E 36
D 11
/*12*/	dhopen,		dhclose,	dhread,		dhwrite,
E 11
I 11
	dhopen,		dhclose,	dhread,		dhwrite,	/*12*/
E 11
	dhioctl,	dhstop,		dhreset,	dh11,
I 53
D 76
	ttselect,
E 76
I 76
D 115
	ttselect,	nodev,
E 76
E 53
D 11
/*13*/	nulldev,	nulldev,	upread,		upwrite,
E 11
I 11
D 71
	nulldev,	nulldev,	upread,		upwrite,	/*13*/
E 71
I 71
	upopen,		nulldev,	upread,		upwrite,	/*13*/
E 71
E 11
	nodev,		nodev,		upreset,	0,
I 53
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 76
E 53
I 13
D 19
/* 14 reserved for tm03 */
I 18
	nodev,		nodev,		nodev,		nodev,		/*14*/
	nodev,		nodev,		nodev,		0,
E 18
/* 15 reserved for lp11 */
I 18
	nodev,		nodev,		nodev,		nodev,		/*15*/
	nodev,		nodev,		nodev,		0,
E 19
I 19
	tmopen,		tmclose,	tmread,		tmwrite,	/*14*/
D 24
	nodev,		nodev,		nulldev,	0,
E 24
I 24
D 38
	tmioctl,	nodev,		nulldev,	0,
E 38
I 38
	tmioctl,	nodev,		tmreset,	0,
I 53
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 115
I 115
	ttselect,	nodev,		NULL,
	upopen,		nulldev,	rawread,	rawwrite,	/*13*/
	nodev,		nodev,		upreset,	NULL,
	seltrue,	nodev,		upstrategy,
	tmopen,		tmclose,	rawread,	rawwrite,	/*14*/
	tmioctl,	nodev,		tmreset,	NULL,
	seltrue,	nodev,		tmstrategy,
E 115
E 76
E 53
E 38
E 24
	lpopen,		lpclose,	nodev,		lpwrite,	/*15*/
D 41
	lpioctl,	nodev,		lpreset,	0,
E 41
I 41
D 115
	nodev,		nodev,		lpreset,	0,
I 53
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 76
E 53
E 41
E 19
	tsopen,		tsclose,	tsread,		tswrite,	/*16*/
D 45
	nodev,		nodev,		nulldev,	0,
E 45
I 45
	tsioctl,	nodev,		tsreset,	0,
I 53
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 76
E 53
E 45
D 28
	dkopen,		dkclose,	dkread,		dkwrite,	/*17*/
	dkioctl,	dkstop,		dkreset,	dkchans,
E 28
I 28
D 54
	nodev,		nodev,		nodev,		nodev,		/*17*/
	nodev,		nodev,		nulldev,	0,
I 53
	nodev,
E 54
I 54
	utopen,		utclose,	utread,		utwrite,	/*17*/
	utioctl,	nodev,		utreset,	0,
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 115
I 115
	nodev,		nodev,		lpreset,	NULL,
	seltrue,	nodev,		NULL,
	tsopen,		tsclose,	rawread,	rawwrite,	/*16*/
	tsioctl,	nodev,		tsreset,	NULL,
	seltrue,	nodev,		tsstrategy,
	utopen,		utclose,	rawread,	rawwrite,	/*17*/
	utioctl,	nodev,		utreset,	NULL,
	seltrue,	nodev,		utstrategy,
E 115
E 76
E 54
E 53
E 28
D 20
/* 18 reserved for cat */
	nodev,		nodev,		nodev,		nodev,		/*18*/
E 20
I 20
	ctopen,		ctclose,	nodev,		ctwrite,	/*18*/
E 20
D 28
	nodev,		nodev,		nodev,		0,
D 22
	nodev,		nodev,		nodev,		nodev,		/*19*/
	nodev,		nodev,		nodev,		0,
/* 20-24 reserved to local sites */
E 22
I 22
	chopen,		chclose,	chread,		chwrite,	/*19*/
	chioctl,	nulldev,	chreset,	0,
#define CHAOSDEV 19
E 28
I 28
D 115
	nodev,		nodev,		nulldev,	0,
I 73
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 76
E 73
I 72
	mtopen,		mtclose,	mtread,		mtwrite,	/*19*/
	mtioctl,	nodev,		nodev,		0,
E 72
I 53
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 115
I 115
	nodev,		nodev,		nulldev,	NULL,
	seltrue,	nodev,		NULL,
	mtopen,		mtclose,	rawread,	rawwrite,	/*19*/
	mtioctl,	nodev,		nodev,		NULL,
	seltrue,	nodev,		mtstrategy,
E 115
E 76
E 53
D 47
	nodev,		nodev,		nodev,		nodev,		/*19*/
	nodev,		nodev,		nulldev,	0,
E 47
I 47
D 54
	chopen,		chclose,	chread,		chwrite,	/*19*/
	chioctl,	nodev,		chreset,	0,
I 53
	chselect,
E 54
I 54
D 72
	nodev,		nodev,		nodev,		nodev,		/*19*/
	nodev,		nodev,		nulldev,	0,
E 72
D 73
	nodev,
E 73
E 54
E 53
E 47
E 28
D 23
/* 25-29 reserved to local sites */
E 22
	nodev,		nodev,		nodev,		nodev,		/*20*/
E 23
I 23
	ptsopen,	ptsclose,	ptsread,	ptswrite,	/*20*/
D 50
	ptyioctl,	nodev,		nodev,		0,
E 50
I 50
D 51
	ptyioctl,	nodev,		nodev,		pt_tty,
E 51
I 51
D 60
	ptyioctl,	nulldev,	nodev,		pt_tty,
E 60
I 60
D 88
	ptyioctl,	ptsstop,	nodev,		pt_tty,
E 88
I 88
	ptyioctl,	ptsstop,	nulldev,	pt_tty,
E 88
E 60
I 53
D 76
	ttselect,
E 76
I 76
D 115
	ttselect,	nodev,
E 115
I 115
	ttselect,	nodev,		NULL,
E 115
E 76
E 53
E 51
E 50
	ptcopen,	ptcclose,	ptcread,	ptcwrite,	/*21*/
D 50
	ptyioctl,	nodev,		nodev,		0,
E 50
I 50
D 51
	ptyioctl,	nodev,		nodev,		pt_tty,
E 51
I 51
D 88
	ptyioctl,	nulldev,	nodev,		pt_tty,
E 88
I 88
	ptyioctl,	nulldev,	nulldev,	pt_tty,
E 88
I 53
D 76
	ptcselect,
E 76
I 76
D 115
	ptcselect,	nodev,
E 115
I 115
	ptcselect,	nodev,		NULL,
E 115
E 76
E 53
E 51
E 50
D 72
	nodev,		nodev,		nodev,		nodev,		/*22*/
E 23
D 46
	nodev,		nodev,		nodev,		0,
E 46
I 46
D 64
	nodev,		nodev,		accreset,	0,
E 64
I 64
	nodev,		nodev,		nodev,		0,
E 64
I 53
	nodev,
E 72
I 72
	dmfopen,	dmfclose,	dmfread,	dmfwrite,	/*22*/
D 81
	dmfioctl,	dmfstop,	dmfreset,	0,
E 81
I 81
	dmfioctl,	dmfstop,	dmfreset,	dmf_tty,
E 81
D 76
	ttselect,
E 76
I 76
D 115
	ttselect,	nodev,
E 76
E 72
E 53
E 46
I 28
D 47
	nodev,		nodev,		nodev,		nodev,		/*23*/
	nodev,		nodev,		nodev,		0,
E 47
I 47
D 51
	enopen,		enclose,	enread,		enwrite,	/*23*/
	nodev,		nodev,		enreset,	0,
E 51
I 51
D 55
	dropen,		drclose,	drread,		drwrite,	/*23*/
	drioctl,	nodev,		drreset,	0,
I 53
	seltrue,
E 55
I 55
D 66
	nodev,		nodev,		nodev,		nodev,		/*23*/
	nodev,		nodev,		nodev,		0,
	nodev,
E 66
I 66
D 71
	nulldev,	nulldev,	idcread,	idcwrite,	/*23*/
E 71
I 71
	idcopen,	nulldev,	idcread,	idcwrite,	/*23*/
E 71
	nodev,		nodev,		idcreset,	0,
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 115
I 115
	ttselect,	nodev,		NULL,
	idcopen,	nulldev,	rawread,	rawwrite,	/*23*/
	nodev,		nodev,		idcreset,	NULL,
	seltrue,	nodev,		idcstrategy,
E 115
E 76
E 66
E 55
E 53
E 51
E 47
D 48
	nodev,		nodev,		nodev,		nodev,		/*24*/
E 48
I 48
D 54
	caopen,		caclose,	nodev,		cawrite,	/*24*/
	nodev,		nodev,		careset,	0,
E 54
I 54
	dnopen,		dnclose,	nodev,		dnwrite,	/*24*/
D 88
	nodev,		nodev,		nodev,		0,
E 88
I 88
D 115
	nodev,		nodev,		nulldev,	0,
E 88
E 54
I 53
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 115
I 115
	nodev,		nodev,		nulldev,	NULL,
	seltrue,	nodev,		NULL,
E 115
E 76
E 53
D 59
	nodev,		nodev,		nodev,		nodev,		/*25*/
E 48
	nodev,		nodev,		nodev,		0,
I 53
	nodev,
E 59
I 59
D 64
	unopen,		unclose,	unread,		unwrite,	/*25*/
	unioctl,	nodev,		unreset,	0,
	seltrue,
E 64
E 59
E 53
E 28
I 23
/* 25-29 reserved to local sites */
I 64
D 91
	gpibopen,	gpibclose,	gpibread,	gpibwrite,	/*25*/
D 88
	gpibioctl,	nulldev,	nodev,		0,
E 88
I 88
	gpibioctl,	nulldev,	nulldev,	0,
E 88
I 67
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 91
I 91
	nodev,		nodev,		nodev,		nodev,		/*25*/
D 115
	nodev,		nulldev,	nulldev,	0,
	nodev,		nodev,
E 115
I 115
	nodev,		nulldev,	nulldev,	NULL,
	nodev,		nodev,		NULL,
E 115
E 91
E 76
	lpaopen,	lpaclose,	lparead,	lpawrite,	/*26*/
D 115
	lpaioctl,	nodev,		nulldev,	0,
E 67
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 115
I 115
	lpaioctl,	nodev,		nulldev,	NULL,
	seltrue,	nodev,		NULL,
E 115
E 76
I 69
	psopen,		psclose,	psread,		pswrite,	/*27*/
D 115
	psioctl,	nodev,		psreset,	0,
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 115
I 115
	psioctl,	nodev,		psreset,	NULL,
	seltrue,	nodev,		NULL,
E 115
E 76
D 91
	ibopen,		ibclose,	ibread,		ibwrite,	/*28*/
D 88
	ibioctl,	nodev,		nodev,		0,
E 88
I 88
	ibioctl,	nodev,		nulldev,	0,
E 88
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 91
I 91
	nodev,		nodev,		nodev,		nodev,		/*28*/
D 115
	nodev,		nulldev,	nulldev,	0,
	nodev,		nodev,
E 115
I 115
	nodev,		nulldev,	nulldev,	NULL,
	nodev,		nodev,		NULL,
E 115
E 91
E 76
	adopen,		adclose,	nodev,		nodev,		/*29*/
D 115
	adioctl,	nodev,		adreset,	0,
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 115
I 115
	adioctl,	nodev,		adreset,	NULL,
	seltrue,	nodev,		NULL,
E 115
E 76
D 79
	efsopen,	efsclose,	efsread,	efswrite,	/*30*/
	efsioctl,	nodev,		efsreset,	0,
E 79
I 79
	rxopen,		rxclose,	rxread,		rxwrite,	/*30*/
D 115
	rxioctl,	nodev,		rxreset,	0,
E 79
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 115
I 115
	rxioctl,	nodev,		rxreset,	NULL,
	seltrue,	nodev,		NULL,
E 115
E 76
	ikopen,		ikclose,	ikread,		ikwrite,	/*31*/
D 115
	ikioctl,	nodev,		ikreset,	0,
I 83
	seltrue,	nodev,
D 86
	rlopen,		rlclose,	rlread,		rlwrite,	/* 32 */
	rlioctl,	nodev,		rlreset,	0,
E 86
I 86
D 95
	rlopen,		nodev,		rlread,		rlwrite,	/* 32 */
E 95
I 95
	rlopen,		nodev,		rlread,		rlwrite,	/*32*/
E 95
	nodev,		nodev,		rlreset,	0,
E 86
E 83
D 76
	seltrue,
E 76
I 76
	seltrue,	nodev,
E 115
I 115
	ikioctl,	nodev,		ikreset,	NULL,
	seltrue,	nodev,		NULL,
	rlopen,		nodev,		rawread,	rawwrite,	/*32*/
	nodev,		nodev,		rlreset,	NULL,
	seltrue,	nodev,		rlstrategy,
E 115
I 88
D 95
	logopen,	logclose,	logread,	nodev,		/* 33 */
E 95
I 95
	logopen,	logclose,	logread,	nodev,		/*33*/
E 95
D 115
	logioctl,	nodev,		nulldev,	0,
	logselect,	nodev,
I 93
D 95
	dhuopen,        dhuclose,       dhuread,        dhuwrite,       /* 34 */
E 95
I 95
	dhuopen,        dhuclose,       dhuread,        dhuwrite,       /*34*/
E 95
	dhuioctl,       dhustop,        dhureset,       dhu_tty,
	ttselect,       nodev,
E 115
I 115
	logioctl,	nodev,		nulldev,	NULL,
	logselect,	nodev,		NULL,
	dhuopen,	dhuclose,	dhuread,	dhuwrite,	/*34*/
	dhuioctl,	dhustop,	dhureset,	dhu_tty,
	ttselect,	nodev,		NULL,
E 115
I 94
D 95
 	crlopen,	crlclose,	crlread,	crlwrite,	/* 35 */
E 95
I 95
 	crlopen,	crlclose,	crlread,	crlwrite,	/*35*/
E 95
D 115
 	nodev,		nodev,		nulldev,	0,
 	seltrue,	nodev,
E 115
I 115
 	nodev,		nodev,		nulldev,	NULL,
 	seltrue,	nodev,		NULL,
E 115
I 95
	vsopen,		vsclose,	nodev,		nodev,		/*36*/
D 115
	vsioctl,	nodev,		vsreset,	0,
D 96
	vsselect,	nodev
E 96
I 96
	vsselect,	nodev,
	dmzopen,        dmzclose,       dmzread,        dmzwrite,       /*37*/
	dmzioctl,       dmzstop,        dmzreset,       dmz_tty,
	ttselect,       nodev,
I 97
D 99
/* 38-42 reserved to local sites */
	nodev,		nodev,		nodev,		nodev,		/*38*/
	nodev,		nulldev,	nulldev,	0,
	nodev,		nodev,
E 99
I 99
	tmscpopen,	tmscpclose,	tmscpread,	tmscpwrite,	/*38*/
	tmscpioctl,	nodev,		tmscpreset,	0,
	seltrue,	nodev,
E 115
I 115
	vsioctl,	nodev,		vsreset,	NULL,
	vsselect,	nodev,		NULL,
	dmzopen,	dmzclose,	dmzread,	dmzwrite,	/*37*/
	dmzioctl,	dmzstop,	dmzreset,	dmz_tty,
	ttselect,	nodev,		NULL,
	tmscpopen,	tmscpclose,	rawread,	rawwrite,	/*38*/
	tmscpioctl,	nodev,		tmscpreset,	NULL,
	seltrue,	nodev,		tmscpstrategy,
E 115
E 99
D 100
	nodev,		nodev,		nodev,		nodev,		/*39*/
	nodev,		nulldev,	nulldev,	0,
	nodev,		nodev,
E 100
I 100
D 103
	npopen,		npclose,	npread,		npwrite,	/*39*/
	npioctl,	nodev,		npreset,	0,
	seltrue,	nodev,
E 103
I 103
D 105
	nodev,		nodev,		nodev,		nodev,		/*39*/
	nodev,		nulldev,	nulldev,	0,
	nodev,		nodev,
E 105
I 105
	npopen,		npclose,	npread,		npwrite,	/*39*/
D 115
	npioctl,	nodev,		npreset,	0,
	seltrue,	nodev,
E 105
E 103
E 100
D 109
	nodev,		nodev,		nodev,		nodev,		/*40*/
	nodev,		nulldev,	nulldev,	0,
	nodev,		nodev,
E 109
I 109
	qvopen,		qvclose,	qvread, 	qvwrite,	/*40*/
	qvioctl,	qvstop,		qvreset,	0,
	qvselect,	nodev,
E 109
D 111
	nodev,		nodev,		nodev,		nodev,		/*41*/
	nodev,		nulldev,	nulldev,	0,
	nodev,		nodev,
E 111
I 111
	qdopen,		qdclose,	qdread, 	qdwrite,	/*41*/
	qdioctl,	qdstop,		qdreset,	0,
	qdselect,	nodev,
E 115
I 115
	npioctl,	nodev,		npreset,	NULL,
	seltrue,	nodev,		NULL,
	qvopen,		qvclose,	qvread,		qvwrite,	/*40*/
	qvioctl,	qvstop,		qvreset,	NULL,
	qvselect,	nodev,		NULL,
	qdopen,		qdclose,	qdread,		qdwrite,	/*41*/
	qdioctl,	qdstop,		qdreset,	NULL,
	qdselect,	nodev,		NULL,
E 115
E 111
I 99
/* 42-50 reserved to local sites */
E 99
	nodev,		nodev,		nodev,		nodev,		/*42*/
D 115
	nodev,		nulldev,	nulldev,	0,
	nodev,		nodev,
E 115
I 115
	nodev,		nulldev,	nulldev,	NULL,
	nodev,		nodev,		NULL,
E 115
I 108
	iiopen,		iiclose,	nulldev,	nulldev,	/*43*/
D 115
	iiioctl,	nulldev,	nulldev,	0,
I 112
	seltrue,	nodev,
	/* Datakit major devices */
	dkopen, 	dkclose,	dkread, 	dkwrite,	/* 44*/
	dkioctl,	nulldev,	nulldev,	0,
	seltrue,	nodev,
	dktopen, 	dktclose,	dktread, 	dktwrite,	/* 45*/
E 115
I 115
	iiioctl,	nulldev,	nulldev,	NULL,
	seltrue,	nodev,		NULL,
	dkopen, 	dkclose,	dkread, 	dkwrite,	/*44*/
	dkioctl,	nulldev,	nulldev,	NULL,
	seltrue,	nodev,		NULL,
	dktopen, 	dktclose,	dktread, 	dktwrite,	/*45*/
E 115
	dktioctl,	dktstop,	nulldev,	dkt,
D 115
	ttselect,	nodev,
	kmcopen,	kmcclose,	kmcread,	kmcwrite,	/* 46*/
	kmcioctl,	nulldev,	kmcdclr,	0,
E 112
	seltrue,	nodev,
E 115
I 115
	ttselect,	nodev,		NULL,
	kmcopen,	kmcclose,	kmcread,	kmcwrite,	/*46*/
	kmcioctl,	nulldev,	kmcdclr,	NULL,
	seltrue,	nodev,		NULL,
D 116
	rx50open,	rx50close,	rx50read,	rx50write,	/*47*/
E 116
I 116
	nodev,		nodev,		nodev,		nodev,		/*47*/
	nodev,		nulldev,	nulldev,	NULL,
	nodev,		nodev,		NULL,
	nodev,		nodev,		nodev,		nodev,		/*48*/
	nodev,		nulldev,	nulldev,	NULL,
	nodev,		nodev,		NULL,
	nodev,		nodev,		nodev,		nodev,		/*49*/
	nodev,		nulldev,	nulldev,	NULL,
	nodev,		nodev,		NULL,
	nodev,		nodev,		nodev,		nodev,		/*50*/
	nodev,		nulldev,	nulldev,	NULL,
	nodev,		nodev,		NULL,
	rx50open,	rx50close,	rx50read,	rx50write,	/*51*/
E 116
 	nodev,		nodev,		nulldev,	0,
 	seltrue,	nodev,		NULL,
I 116
/* kdb50 ra */
D 117
	kdaopen,	nulldev/*XXX*/,	rawread,	rawwrite,	/*52*/
E 117
I 117
	kdbopen,	nulldev/*XXX*/,	rawread,	rawwrite,	/*52*/
E 117
	nodev,		nodev,		nulldev,	0,
D 117
	seltrue,	nodev,		kdastrategy,
E 117
I 117
	seltrue,	nodev,		kdbstrategy,
I 118
	netmon_open,	netmon_close,	netmon_read,	nodev,		/*53*/
	netmon_ioctl,	nodev,		nulldev,	0,
	netmon_select,	nodev,		NULL,
I 119
	ssopen,		ssclose,	ssread,		sswrite,	/*54*/
	ssioctl,	ssstop,		nulldev,	ss_tty,
	ttselect,	nodev,		NULL,
I 120
	pppaux_open,	pppaux_close,	pppaux_read,	pppaux_write,	/*55*/
	pppaux_ioctl,	nodev,		nulldev,	0,
	pppaux_select,	nodev,		NULL,
E 120
E 119
E 118
E 117
E 116
E 115
E 108
E 97
E 96
E 95
E 94
E 93
E 88
E 76
E 69
E 64
E 23
E 18
E 13
E 5
D 11
#endif
E 11
D 5
		0,
E 5
I 5
D 71
	0,	
E 71
E 5
};
I 71
int	nchrdev = sizeof (cdevsw) / sizeof (cdevsw[0]);
E 71

D 2
int	ttyopen(),ttread();
E 2
I 2
D 3
int	ttyopen(),ttread(),nullioctl(),ttstart();
E 3
I 3
D 5
int	ttyopen(), ttread(), nullioctl(), ttstart();
E 5
I 5
D 53
int	ttyopen(),ttread(),nullioctl(),ttstart();
E 53
I 53
D 70
int	ttyopen(),ttyclose(),ttread(),nullioctl(),ttstart();
E 53
E 5
E 3
E 2
char	*ttwrite();
D 5
int	ttyinput(), ttyrend();
I 2
D 3
#ifdef BERKNET
int	netopen(), netclose(), netread(), netinput(), netioctl();
#endif
E 3
I 3
int	bkopen(), bkclose(), bkread(), bkinput(), bkioctl();
int	ntyopen(), ntyclose(), ntread();
char 	*ntwrite();
int	ntyinput(), ntyrend();
E 5
I 5
D 53
int	ttyinput(),ttyrend();
I 34

#include "bk.h"
#if NBK > 0
E 34
int	bkopen(),bkclose(),bkread(),bkinput(),bkioctl();
I 34
#endif

E 34
int	ntyopen(),ntyclose(),ntread();
I 9
D 10
int	okopen(),okread(),okioctl(),okinput();
E 10
E 9
char	*ntwrite();
int	ntyinput(),ntyrend();
E 53
I 53
int	ttyinput();
E 53
E 5
E 3
E 2
D 54
 
E 54
I 54

I 55
#include "bk.h"
#if NBK > 0
int	bkopen(),bkclose(),bkread(),bkinput(),bkioctl();
#endif

I 69
#include "tb.h"
#if NTB > 0
int	tbopen(),tbclose(),tbread(),tbinput(),tbioctl();
#endif

E 69
E 55
E 54
I 47
D 53
#ifdef CHAOS
int	ch_lopen(), ch_lclose(), ch_linput(), ch_lstart();
#endif

E 53
E 47
struct	linesw linesw[] =
{
D 2
	ttyopen, nulldev, ttread, ttwrite, nodev,
E 2
I 2
D 53
	ttyopen, nulldev, ttread, ttwrite, nullioctl,
E 2
D 18
	ttyinput, ttyrend, nulldev, nulldev, nulldev,	/* 0 */
E 18
I 18
	ttyinput, ttyrend, nulldev, nulldev, nulldev,		/* 0 */
I 34
#if NBK > 0
E 34
E 18
I 2
D 3
#ifdef BERKNET
	netopen, netclose, netread, ttwrite, netioctl,
	netinput, nodev, nulldev, ttstart, nulldev,	/* 1 */
#endif
E 3
I 3
	bkopen, bkclose, bkread, ttwrite, bkioctl,
D 18
	bkinput, nodev, nulldev, ttstart, nulldev,	/* 1 */
E 18
I 18
	bkinput, nodev, nulldev, ttstart, nulldev,		/* 1 */
I 34
#else
E 53
I 53
	ttyopen, nodev, ttread, ttwrite, nullioctl,
	ttyinput, nodev, nulldev, ttstart, nulldev,
I 55
#if NBK > 0
	bkopen, bkclose, bkread, ttwrite, bkioctl,
	bkinput, nodev, nulldev, ttstart, nulldev,
#else
E 55
E 53
D 45
	nodev, nodev, nodev, nodev, nodev,
E 45
I 45
	nodev, nodev, nodev, (char *(*)())nodev, nodev,
E 45
	nodev, nodev, nodev, nodev, nodev,
I 55
#endif
E 55
D 53
#endif
E 34
E 18
	ntyopen, ntyclose, ntread, ntwrite, nullioctl,
D 18
	ntyinput, ntyrend, nulldev, ttstart, nulldev,	/* 2 */
E 18
I 18
	ntyinput, ntyrend, nulldev, ttstart, nulldev,		/* 2 */
I 47
#ifdef CHAOS
	ch_lopen, ch_lclose, nulldev, (char *(*)())nulldev, nullioctl,
	ch_linput, nulldev, nulldev, ch_lstart, nulldev, 	/* 3 */
#else
	nodev, nodev, nodev, (char *(*)())nodev, nodev,
	nodev, nodev, nodev, nodev, nodev,
#endif
E 47
D 28
	pkopen, pkclose, pkread, pkwrite, pkioctl,	
	pkrint, pkrend, nulldev, pkxint, pkmodem,		/* 3 */
	tropen, trclose, trread, trwrite, trioctl,
	trinput, trrend, trmeta, trxint, trmodem,		/* 4 */
	dt_lopen, dt_lclose, dt_lread, dt_lwrite, nullioctl,
	dtlinput, dt_lrend, dt_lmeta, dt_lstart, nulldev, 	/* 5 */
I 24
	ch_lopen, ch_lclose, nulldev, nulldev, nullioctl,
	ch_linput, nulldev, nulldev, ch_lstart, nulldev, 	/* 6 */
E 28
E 24
E 18
I 9
D 10
	okopen, nulldev, okread, ttwrite, okioctl,
	okinput, nodev, nulldev, ttstart, nulldev,	/* 3 */
E 10
E 9
E 3
E 2
	mxopen, mxclose, mcread, mcwrite, mxioctl,
D 2
	nulldev, nulldev, nulldev, nulldev, nulldev,	/* 1 */
E 2
I 2
D 3
	nulldev, nulldev, nulldev, nulldev, nulldev,	/* 1 or 2 */
E 3
I 3
D 9
	nulldev, nulldev, nulldev, nulldev, nulldev,	/* 3 */
E 9
I 9
D 10
	nulldev, nulldev, nulldev, nulldev, nulldev,	/* 4 */
E 10
I 10
D 18
	nulldev, nulldev, nulldev, nulldev, nulldev,	/* 3 */
E 18
I 18
D 24
	nulldev, nulldev, nulldev, nulldev, nulldev,		/* 6 */
E 24
I 24
D 28
	nulldev, nulldev, nulldev, nulldev, nulldev,		/* 7 */
E 28
I 28
D 47
	nulldev, nulldev, nulldev, nulldev, nulldev,		/* 3 */
E 47
I 47
	nulldev, nulldev, nulldev, nulldev, nulldev,		/* 4 */
E 53
I 53
	ttyopen, ttyclose, ttread, ttwrite, nullioctl,
	ttyinput, nodev, nulldev, ttstart, nulldev,
I 69
#if NTB > 0
	tbopen, tbclose, tbread, (char *(*)())nodev, tbioctl,
	tbinput, nodev, nulldev, ttstart, nulldev,		/* 3 */
#else
	nodev, nodev, nodev, (char *(*)())nodev, nodev,
	nodev, nodev, nodev, nodev, nodev,
#endif
#if NTB > 0
	tbopen, tbclose, tbread, (char *(*)())nodev, tbioctl,
	tbinput, nodev, nulldev, ttstart, nulldev,		/* 4 */
#else
	nodev, nodev, nodev, (char *(*)())nodev, nodev,
	nodev, nodev, nodev, nodev, nodev,
#endif
E 69
E 53
E 47
E 28
E 24
E 18
E 10
E 9
E 3
E 2
	0
};
D 47
 
I 2
D 3
#ifdef BERKNET
int	nldisp = 2;
#else
E 2
int	nldisp = 1;
I 2
#endif
E 3
I 3
D 9
int	nldisp = 3;
E 9
I 9
D 10
int	nldisp = 4;
E 10
I 10
D 18
int	nldisp = 3;
E 18
I 18
D 24
int	nldisp = 6;
E 24
I 24
D 28
int	nldisp = 7;
E 28
I 28
D 44
int	nldisp = 4;
E 44
I 44
int	nldisp = 3;
E 44
E 28
E 24
E 18
E 10
E 9
E 3
E 2
D 8
dev_t	rootdev	= makedev(0, 0);
D 6
dev_t	swapdev	= makedev(0, 1);
E 6
I 6
D 7
dev_t	swapdev	= makedev(0, 1);	/* WRONG (eventually) */
E 7
E 6
dev_t	pipedev	= makedev(0, 0);
D 7
daddr_t swplo = 1;		/* (swplo-1) % CLSIZE must be 0 */
int	nswap = 33439;
E 7
I 7
dev_t	argdev = makedev(0, 1);
E 7
I 6

I 7
/*
 * Swapdev is a fake device implemented
 * in sw.c used only internally to get to swstrategy.
 * It cannot be provided to the users, because the
 * swstrategy routine munches the b_dev and b_blkno entries
 * before calling the appropriate driver.  This would horribly
 * confuse, e.g. the hashing routines as well as the placement
 * of the block on the d_tab chains.  Instead, /dev/drum is
 * provided as a character (raw) device.
 */
dev_t	swapdev = makedev(4, 0);

/*
 * Nswap is the basic number of blocks of swap per
 * swap device, and is multipliet by nswdev after
 * nswdev is determined at boot.
 */
int	nswap = 33440;

E 7
struct	swdevt swdevt[] =
{
D 7
	makedev(0, 1),	0,
E 7
I 7
	makedev(0, 1),	0,		/* rp0b */
	makedev(2, 9),  0,		/* up1b */
E 7
	0,		0,
};
E 8
D 7
int	nswdev = 1;
E 7
E 6
 
E 47
I 47

D 53
int	nldisp = 4;
E 53
I 53
D 69
int	nldisp = 3;
E 69
I 69
int	nldisp = 5;
E 69
E 53

E 47
D 33
struct	buf	buf[NBUF];
struct	file	file[NFILE];
struct	inode	inode[NINODE];
struct	text	text[NTEXT];
struct	proc	proc[NPROC];
E 33
D 24
struct	buf	bfreelist;
E 24
I 24
struct	buf	bfreelist[BQUEUES];	/* buffer chain headers */
E 24
struct	buf	bswlist;	/* free list of swap headers */
struct	buf	*bclnlist;	/* header for list of cleaned pages */
struct	acct	acctbuf;
struct	inode	*acctp;
D 47
 
E 47
I 47

E 70
E 47
int	mem_no = 3; 	/* major device number of memory special file */
I 8

/*
 * Swapdev is a fake device implemented
 * in sw.c used only internally to get to swstrategy.
 * It cannot be provided to the users, because the
 * swstrategy routine munches the b_dev and b_blkno entries
 * before calling the appropriate driver.  This would horribly
D 27
 * confuse, e.g. the hashing routines as well as the placement
 * of the block on the d_tab chains.  Instead, /dev/drum is
E 27
I 27
 * confuse, e.g. the hashing routines. Instead, /dev/drum is
E 27
 * provided as a character (raw) device.
 */
dev_t	swapdev = makedev(4, 0);
E 8
D 70

D 13

E 13
extern struct user u;
E 70
D 28

I 18
D 26
#if VAX==780
E 18
I 13
/*
 * This is stupid, and will go away soon.
 */
E 13
D 12
int mbanum[] = {	/* mba number of major device */
E 12
I 12
int	mbanum[] = {	/* mba number of major device */
E 12
	0,		/* disk */
	1,		/* tape */
	9999999,	/* unused */
	9999999,	/* unused */
	0,		/* disk, raw */
	1,		/* tape, raw */
};

D 12
int *mbaloc[] = { 	/* virtual location of mba */
	(int *)MBA0,
	(int *)MBA1,
E 12
I 12
extern	struct pte MBA0map[], MBA1map[];

struct	mba_info mbainfo[] = {
	MBA0,	PHYSMBA0,	MBA0map,
	MBA1,	PHYSMBA1,	MBA1map
E 12
};
I 22
#endif
E 26
#ifdef	CHAOS
int cdevpath = 1 << CHAOSDEV;
E 22
I 18
#endif
E 28
E 18
E 1
